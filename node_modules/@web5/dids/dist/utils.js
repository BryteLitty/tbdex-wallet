var Td=Object.create;var Ni=Object.defineProperty;var Bd=Object.getOwnPropertyDescriptor;var Id=Object.getOwnPropertyNames;var Rd=Object.getPrototypeOf,kd=Object.prototype.hasOwnProperty;var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Od=(t,e)=>{for(var r in e)Ni(t,r,{get:e[r],enumerable:!0})},Ld=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Id(e))!kd.call(t,i)&&i!==r&&Ni(t,i,{get:()=>e[i],enumerable:!(n=Bd(e,i))||n.enumerable});return t};var f=(t,e,r)=>(r=t!=null?Td(Rd(t)):{},Ld(e||!t||!t.__esModule?Ni(r,"default",{value:t,enumerable:!0}):r,t));var Tc=S(mn=>{"use strict";var _m=f(d());mn.byteLength=Ud;mn.toByteArray=Pd;mn.fromByteArray=Kd;var Re=[],be=[],Cd=typeof Uint8Array<"u"?Uint8Array:Array,Mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(vt=0,Sc=Mi.length;vt<Sc;++vt)Re[vt]=Mi[vt],be[Mi.charCodeAt(vt)]=vt;var vt,Sc;be[45]=62;be[95]=63;function Ac(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Ud(t){var e=Ac(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Dd(t,e,r){return(e+r)*3/4-r}function Pd(t){var e,r=Ac(t),n=r[0],i=r[1],o=new Cd(Dd(t,n,i)),s=0,c=i>0?n-4:n,u;for(u=0;u<c;u+=4)e=be[t.charCodeAt(u)]<<18|be[t.charCodeAt(u+1)]<<12|be[t.charCodeAt(u+2)]<<6|be[t.charCodeAt(u+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=be[t.charCodeAt(u)]<<2|be[t.charCodeAt(u+1)]>>4,o[s++]=e&255),i===1&&(e=be[t.charCodeAt(u)]<<10|be[t.charCodeAt(u+1)]<<4|be[t.charCodeAt(u+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Nd(t){return Re[t>>18&63]+Re[t>>12&63]+Re[t>>6&63]+Re[t&63]}function Md(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Nd(n));return i.join("")}function Kd(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,c=r-n;s<c;s+=o)i.push(Md(t,s,s+o>c?c:s+o));return n===1?(e=t[r-1],i.push(Re[e>>2]+Re[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Re[e>>10]+Re[e>>4&63]+Re[e<<2&63]+"=")),i.join("")}});var Bc=S(Ki=>{var Am=f(d());Ki.read=function(t,e,r,n,i){var o,s,c=i*8-n-1,u=(1<<c)-1,a=u>>1,l=-7,h=r?i-1:0,w=r?-1:1,p=t[e+h];for(h+=w,o=p&(1<<-l)-1,p>>=-l,l+=c;l>0;o=o*256+t[e+h],h+=w,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+t[e+h],h+=w,l-=8);if(o===0)o=1-a;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-a}return(p?-1:1)*s*Math.pow(2,o-n)};Ki.write=function(t,e,r,n,i,o){var s,c,u,a=o*8-i-1,l=(1<<a)-1,h=l>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?e+=w/u:e+=w*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=l?(c=0,s=l):s+h>=1?(c=(e*u-1)*Math.pow(2,i),s=s+h):(c=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=c&255,p+=y,c/=256,i-=8);for(s=s<<i|c,a+=i;a>0;t[r+p]=s&255,p+=y,s/=256,a-=8);t[r+p-y]|=g*128}});var fe=S(ar=>{"use strict";var Im=f(d());var Fi=Tc(),cr=Bc(),Ic=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ar.Buffer=b;ar.SlowBuffer=Wd;ar.INSPECT_MAX_BYTES=50;var xn=2147483647;ar.kMaxLength=xn;b.TYPED_ARRAY_SUPPORT=Fd();!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Fd(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}});Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function We(t){if(t>xn)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,b.prototype),e}function b(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Vi(t)}return Lc(t,e,r)}b.poolSize=8192;function Lc(t,e,r){if(typeof t=="string")return jd(t,e);if(ArrayBuffer.isView(t))return $d(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ke(t,ArrayBuffer)||t&&ke(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(t,SharedArrayBuffer)||t&&ke(t.buffer,SharedArrayBuffer)))return ji(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return b.from(n,e,r);let i=Vd(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return b.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}b.from=function(t,e,r){return Lc(t,e,r)};Object.setPrototypeOf(b.prototype,Uint8Array.prototype);Object.setPrototypeOf(b,Uint8Array);function Cc(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function qd(t,e,r){return Cc(t),t<=0?We(t):e!==void 0?typeof r=="string"?We(t).fill(e,r):We(t).fill(e):We(t)}b.alloc=function(t,e,r){return qd(t,e,r)};function Vi(t){return Cc(t),We(t<0?0:Wi(t)|0)}b.allocUnsafe=function(t){return Vi(t)};b.allocUnsafeSlow=function(t){return Vi(t)};function jd(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!b.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Uc(t,e)|0,n=We(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function qi(t){let e=t.length<0?0:Wi(t.length)|0,r=We(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function $d(t){if(ke(t,Uint8Array)){let e=new Uint8Array(t);return ji(e.buffer,e.byteOffset,e.byteLength)}return qi(t)}function ji(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,b.prototype),n}function Vd(t){if(b.isBuffer(t)){let e=Wi(t.length)|0,r=We(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Gi(t.length)?We(0):qi(t);if(t.type==="Buffer"&&Array.isArray(t.data))return qi(t.data)}function Wi(t){if(t>=xn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+xn.toString(16)+" bytes");return t|0}function Wd(t){return+t!=t&&(t=0),b.alloc(+t)}b.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==b.prototype};b.compare=function(e,r){if(ke(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),ke(r,Uint8Array)&&(r=b.from(r,r.offset,r.byteLength)),!b.isBuffer(e)||!b.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};b.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};b.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return b.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=b.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(ke(s,Uint8Array))o+s.length>i.length?(b.isBuffer(s)||(s=b.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(b.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Uc(t,e){if(b.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ke(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $i(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return $c(t).length;default:if(i)return n?-1:$i(t).length;e=(""+e).toLowerCase(),i=!0}}b.byteLength=Uc;function Hd(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return rh(this,e,r);case"utf8":case"utf-8":return Pc(this,e,r);case"ascii":return eh(this,e,r);case"latin1":case"binary":return th(this,e,r);case"base64":return Zd(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nh(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}b.prototype._isBuffer=!0;function _t(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}b.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)_t(this,r,r+1);return this};b.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)_t(this,r,r+3),_t(this,r+1,r+2);return this};b.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)_t(this,r,r+7),_t(this,r+1,r+6),_t(this,r+2,r+5),_t(this,r+3,r+4);return this};b.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Pc(this,0,e):Hd.apply(this,arguments)};b.prototype.toLocaleString=b.prototype.toString;b.prototype.equals=function(e){if(!b.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:b.compare(this,e)===0};b.prototype.inspect=function(){let e="",r=ar.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Ic&&(b.prototype[Ic]=b.prototype.inspect);b.prototype.compare=function(e,r,n,i,o){if(ke(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),!b.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,c=n-r,u=Math.min(s,c),a=this.slice(i,o),l=e.slice(r,n);for(let h=0;h<u;++h)if(a[h]!==l[h]){s=a[h],c=l[h];break}return s<c?-1:c<s?1:0};function Dc(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Gi(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=b.from(e,n)),b.isBuffer(e))return e.length===0?-1:Rc(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Rc(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Rc(t,e,r,n,i){let o=1,s=t.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,r/=2}function u(l,h){return o===1?l[h]:l.readUInt16BE(h*o)}let a;if(i){let l=-1;for(a=r;a<s;a++)if(u(t,a)===u(e,l===-1?0:a-l)){if(l===-1&&(l=a),a-l+1===c)return l*o}else l!==-1&&(a-=a-l),l=-1}else for(r+c>s&&(r=s-c),a=r;a>=0;a--){let l=!0;for(let h=0;h<c;h++)if(u(t,a+h)!==u(e,h)){l=!1;break}if(l)return a}return-1}b.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};b.prototype.indexOf=function(e,r,n){return Dc(this,e,r,n,!0)};b.prototype.lastIndexOf=function(e,r,n){return Dc(this,e,r,n,!1)};function Gd(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let c=parseInt(e.substr(s*2,2),16);if(Gi(c))return s;t[r+s]=c}return s}function Jd(t,e,r,n){return En($i(e,t.length-r),t,r,n)}function zd(t,e,r,n){return En(ch(e),t,r,n)}function Yd(t,e,r,n){return En($c(e),t,r,n)}function Xd(t,e,r,n){return En(uh(e,t.length-r),t,r,n)}b.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Gd(this,e,r,n);case"utf8":case"utf-8":return Jd(this,e,r,n);case"ascii":case"latin1":case"binary":return zd(this,e,r,n);case"base64":return Yd(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xd(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Zd(t,e,r){return e===0&&r===t.length?Fi.fromByteArray(t):Fi.fromByteArray(t.slice(e,r))}function Pc(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,c=o>239?4:o>223?3:o>191?2:1;if(i+c<=r){let u,a,l,h;switch(c){case 1:o<128&&(s=o);break;case 2:u=t[i+1],(u&192)===128&&(h=(o&31)<<6|u&63,h>127&&(s=h));break;case 3:u=t[i+1],a=t[i+2],(u&192)===128&&(a&192)===128&&(h=(o&15)<<12|(u&63)<<6|a&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:u=t[i+1],a=t[i+2],l=t[i+3],(u&192)===128&&(a&192)===128&&(l&192)===128&&(h=(o&15)<<18|(u&63)<<12|(a&63)<<6|l&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=c}return Qd(n)}var kc=4096;function Qd(t){let e=t.length;if(e<=kc)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=kc));return r}function eh(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function th(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function rh(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=ah[t[o]];return i}function nh(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}b.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,b.prototype),i};function re(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||re(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};b.prototype.readUintBE=b.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||re(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};b.prototype.readUint8=b.prototype.readUInt8=function(e,r){return e=e>>>0,r||re(e,1,this.length),this[e]};b.prototype.readUint16LE=b.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||re(e,2,this.length),this[e]|this[e+1]<<8};b.prototype.readUint16BE=b.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||re(e,2,this.length),this[e]<<8|this[e+1]};b.prototype.readUint32LE=b.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||re(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};b.prototype.readUint32BE=b.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||re(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};b.prototype.readBigUInt64LE=ct(function(e){e=e>>>0,ur(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ur(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});b.prototype.readBigUInt64BE=ct(function(e){e=e>>>0,ur(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ur(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});b.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||re(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};b.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||re(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};b.prototype.readInt8=function(e,r){return e=e>>>0,r||re(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};b.prototype.readInt16LE=function(e,r){e=e>>>0,r||re(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};b.prototype.readInt16BE=function(e,r){e=e>>>0,r||re(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};b.prototype.readInt32LE=function(e,r){return e=e>>>0,r||re(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};b.prototype.readInt32BE=function(e,r){return e=e>>>0,r||re(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};b.prototype.readBigInt64LE=ct(function(e){e=e>>>0,ur(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ur(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});b.prototype.readBigInt64BE=ct(function(e){e=e>>>0,ur(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Ur(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});b.prototype.readFloatLE=function(e,r){return e=e>>>0,r||re(e,4,this.length),cr.read(this,e,!0,23,4)};b.prototype.readFloatBE=function(e,r){return e=e>>>0,r||re(e,4,this.length),cr.read(this,e,!1,23,4)};b.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||re(e,8,this.length),cr.read(this,e,!0,52,8)};b.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||re(e,8,this.length),cr.read(this,e,!1,52,8)};function ae(t,e,r,n,i,o){if(!b.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;ae(this,e,r,n,c,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};b.prototype.writeUintBE=b.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;ae(this,e,r,n,c,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};b.prototype.writeUint8=b.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,1,255,0),this[r]=e&255,r+1};b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Nc(t,e,r,n,i){jc(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Mc(t,e,r,n,i){jc(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}b.prototype.writeBigUInt64LE=ct(function(e,r=0){return Nc(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});b.prototype.writeBigUInt64BE=ct(function(e,r=0){return Mc(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});b.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);ae(this,e,r,n,u-1,-u)}let o=0,s=1,c=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&c===0&&this[r+o-1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};b.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);ae(this,e,r,n,u-1,-u)}let o=n-1,s=1,c=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&c===0&&this[r+o+1]!==0&&(c=1),this[r+o]=(e/s>>0)-c&255;return r+n};b.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};b.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};b.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};b.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};b.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||ae(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};b.prototype.writeBigInt64LE=ct(function(e,r=0){return Nc(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});b.prototype.writeBigInt64BE=ct(function(e,r=0){return Mc(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Kc(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Fc(t,e,r,n,i){return e=+e,r=r>>>0,i||Kc(t,e,r,4,34028234663852886e22,-34028234663852886e22),cr.write(t,e,r,n,23,4),r+4}b.prototype.writeFloatLE=function(e,r,n){return Fc(this,e,r,!0,n)};b.prototype.writeFloatBE=function(e,r,n){return Fc(this,e,r,!1,n)};function qc(t,e,r,n,i){return e=+e,r=r>>>0,i||Kc(t,e,r,8,17976931348623157e292,-17976931348623157e292),cr.write(t,e,r,n,52,8),r+8}b.prototype.writeDoubleLE=function(e,r,n){return qc(this,e,r,!0,n)};b.prototype.writeDoubleBE=function(e,r,n){return qc(this,e,r,!1,n)};b.prototype.copy=function(e,r,n,i){if(!b.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};b.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!b.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=b.isBuffer(e)?e:b.from(e,i),c=s.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%c]}return this};var sr={};function Hi(t,e,r){sr[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Hi("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Hi("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Hi("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Oc(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Oc(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Oc(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ih(t,e,r){ur(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Ur(e,t.length-(r+1))}function jc(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",c;throw o>3?e===0||e===BigInt(0)?c=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:c=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:c=`>= ${e}${s} and <= ${r}${s}`,new sr.ERR_OUT_OF_RANGE("value",c,t)}ih(n,i,o)}function ur(t,e){if(typeof t!="number")throw new sr.ERR_INVALID_ARG_TYPE(e,"number",t)}function Ur(t,e,r){throw Math.floor(t)!==t?(ur(t,r),new sr.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new sr.ERR_BUFFER_OUT_OF_BOUNDS:new sr.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var oh=/[^+/0-9A-Za-z-_]/g;function sh(t){if(t=t.split("=")[0],t=t.trim().replace(oh,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function $i(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function ch(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function uh(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function $c(t){return Fi.toByteArray(sh(t))}function En(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ke(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Gi(t){return t!==t}var ah=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function ct(t){return typeof BigInt>"u"?fh:t}function fh(){throw new Error("BigInt not supported")}});var d=S(()=>{"use strict";var Vc=fe().Buffer,{Buffer:lh}=fe();Vc.prototype.writeBigUInt64BE=lh.prototype.writeBigUInt64BE;globalThis.Buffer=Vc});var cu=S(su=>{"use strict";var qx=f(d());su.supports=function(...e){let r=e.reduce((n,i)=>Object.assign(n,i),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var _e=S(($x,uu)=>{"use strict";var Vx=f(d());uu.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var co=S((Wx,au)=>{"use strict";var Hx=f(d()),so=null;au.exports=function(){return so===null&&(so={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),so}});var fo=S(fu=>{"use strict";var Jx=f(d()),uo=_e(),jh=new Set(["buffer","view","utf8"]),ao=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!jh.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new uo(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new uo(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new uo(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};fu.Encoding=ao});var po=S(Sn=>{"use strict";var Yx=f(d()),{Buffer:ho}=fe()||{},{Encoding:yo}=fo(),$h=co(),Kr=class extends yo{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new Fr({encode:this.encode,decode:e=>this.decode(ho.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},Fr=class extends yo{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new Kr({encode:e=>{let r=this.encode(e);return ho.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},lo=class extends yo{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new Kr({encode:e=>ho.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=$h();return new Fr({encode:n=>e.encode(this.encode(n)),decode:n=>this.decode(r.decode(n)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};Sn.BufferFormat=Kr;Sn.ViewFormat=Fr;Sn.UTF8Format=lo});var yu=S(Bt=>{"use strict";var Zx=f(d()),{Buffer:oe}=fe()||{Buffer:{isBuffer:()=>!1}},{textEncoder:du,textDecoder:lu}=co()(),{BufferFormat:qr,ViewFormat:wo,UTF8Format:hu}=po(),An=t=>t;Bt.utf8=new hu({encode:function(t){return oe.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?lu.decode(t):String(t)},decode:An,name:"utf8",createViewTranscoder(){return new wo({encode:function(t){return ArrayBuffer.isView(t)?t:du.encode(t)},decode:function(t){return lu.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new qr({encode:function(t){return oe.isBuffer(t)?t:ArrayBuffer.isView(t)?oe.from(t.buffer,t.byteOffset,t.byteLength):oe.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});Bt.json=new hu({encode:JSON.stringify,decode:JSON.parse,name:"json"});Bt.buffer=new qr({encode:function(t){return oe.isBuffer(t)?t:ArrayBuffer.isView(t)?oe.from(t.buffer,t.byteOffset,t.byteLength):oe.from(String(t),"utf8")},decode:An,name:"buffer",createViewTranscoder(){return new wo({encode:function(t){return ArrayBuffer.isView(t)?t:oe.from(String(t),"utf8")},decode:function(t){return oe.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});Bt.view=new wo({encode:function(t){return ArrayBuffer.isView(t)?t:du.encode(t)},decode:An,name:"view",createBufferTranscoder(){return new qr({encode:function(t){return oe.isBuffer(t)?t:ArrayBuffer.isView(t)?oe.from(t.buffer,t.byteOffset,t.byteLength):oe.from(String(t),"utf8")},decode:An,name:`${this.name}+buffer`})}});Bt.hex=new qr({encode:function(t){return oe.isBuffer(t)?t:oe.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});Bt.base64=new qr({encode:function(t){return oe.isBuffer(t)?t:oe.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var bu=S(wu=>{"use strict";var eE=f(d()),pu=_e(),Bn=yu(),{Encoding:Vh}=fo(),{BufferFormat:Wh,ViewFormat:Hh,UTF8Format:Gh}=po(),jr=Symbol("formats"),Tn=Symbol("encodings"),Jh=new Set(["buffer","view","utf8"]),bo=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>Jh.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[Tn]=new Map,this[jr]=new Set(e);for(let r in Bn)try{this.encoding(r)}catch(n){if(n.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw n}}encodings(){return Array.from(new Set(this[Tn].values()))}encoding(e){let r=this[Tn].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=Zh[e],!r)throw new pu(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=zh(e)}let{name:n,format:i}=r;if(!this[jr].has(i))if(this[jr].has("view"))r=r.createViewTranscoder();else if(this[jr].has("buffer"))r=r.createBufferTranscoder();else if(this[jr].has("utf8"))r=r.createUTF8Transcoder();else throw new pu(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let o of[e,n,r.name,r.commonName])this[Tn].set(o,r)}return r}};wu.Transcoder=bo;function zh(t){if(t instanceof Vh)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${Qh++}`;switch(Yh(t)){case"view":return new Hh({...t,name:r});case"utf8":return new Gh({...t,name:r});case"buffer":return new Wh({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function Yh(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var Xh={binary:Bn.buffer,"utf-8":Bn.utf8},Zh={...Bn,...Xh},Qh=0});var $r=S((tE,go)=>{"use strict";var rE=f(d()),hr=typeof Reflect=="object"?Reflect:null,gu=hr&&typeof hr.apply=="function"?hr.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},In;hr&&typeof hr.ownKeys=="function"?In=hr.ownKeys:Object.getOwnPropertySymbols?In=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:In=function(e){return Object.getOwnPropertyNames(e)};function ey(t){console&&console.warn&&console.warn(t)}var xu=Number.isNaN||function(e){return e!==e};function M(){M.init.call(this)}go.exports=M;go.exports.once=iy;M.EventEmitter=M;M.prototype._events=void 0;M.prototype._eventsCount=0;M.prototype._maxListeners=void 0;var mu=10;function Rn(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(M,"defaultMaxListeners",{enumerable:!0,get:function(){return mu},set:function(t){if(typeof t!="number"||t<0||xu(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");mu=t}});M.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};M.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||xu(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Eu(t){return t._maxListeners===void 0?M.defaultMaxListeners:t._maxListeners}M.prototype.getMaxListeners=function(){return Eu(this)};M.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var u=o[e];if(u===void 0)return!1;if(typeof u=="function")gu(u,this,r);else for(var a=u.length,l=Tu(u,a),n=0;n<a;++n)gu(l[n],this,r);return!0};function vu(t,e,r,n){var i,o,s;if(Rn(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=Eu(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,ey(c)}return t}M.prototype.addListener=function(e,r){return vu(this,e,r,!1)};M.prototype.on=M.prototype.addListener;M.prototype.prependListener=function(e,r){return vu(this,e,r,!0)};function ty(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _u(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=ty.bind(n);return i.listener=r,n.wrapFn=i,i}M.prototype.once=function(e,r){return Rn(r),this.on(e,_u(this,e,r)),this};M.prototype.prependOnceListener=function(e,r){return Rn(r),this.prependListener(e,_u(this,e,r)),this};M.prototype.removeListener=function(e,r){var n,i,o,s,c;if(Rn(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){c=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():ry(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this};M.prototype.off=M.prototype.removeListener;M.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Su(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?ny(i):Tu(i,i.length)}M.prototype.listeners=function(e){return Su(this,e,!0)};M.prototype.rawListeners=function(e){return Su(this,e,!1)};M.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Au.call(t,e)};M.prototype.listenerCount=Au;function Au(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}M.prototype.eventNames=function(){return this._eventsCount>0?In(this._events):[]};function Tu(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function ry(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function ny(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function iy(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Bu(t,e,o,{once:!0}),e!=="error"&&oy(t,i,{once:!0})})}function oy(t,e,r){typeof t.on=="function"&&Bu(t,"error",e,r)}function Bu(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var Ru=S((nE,Iu)=>{var iE=f(d());Iu.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var Vr=S(mo=>{"use strict";var sE=f(d()),ku=Ru();mo.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(n,i){t=function(o,s){o?i(o):n(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};mo.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){ku(()=>e(null,r))}).catch(function(r){ku(()=>e(r))})}});var kn=S(xo=>{"use strict";var uE=f(d());xo.getCallback=function(t,e){return typeof t=="function"?t:e};xo.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var ht=S(Un=>{"use strict";var fE=f(d()),{fromCallback:Eo}=Vr(),ye=_e(),{getOptions:vo,getCallback:Ou}=kn(),It=Symbol("promise"),yr=Symbol("callback"),Le=Symbol("working"),Rt=Symbol("handleOne"),Ge=Symbol("handleMany"),_o=Symbol("autoClose"),lt=Symbol("finishWork"),Ce=Symbol("returnMany"),ut=Symbol("closing"),Wr=Symbol("handleClose"),On=Symbol("closed"),Hr=Symbol("closeCallbacks"),ft=Symbol("keyEncoding"),kt=Symbol("valueEncoding"),So=Symbol("abortOnClose"),Ln=Symbol("legacy"),Ao=Symbol("keys"),To=Symbol("values"),at=Symbol("limit"),ge=Symbol("count"),Cn=Object.freeze({}),sy=()=>{},Lu=!1,Gr=class{constructor(e,r,n){if(typeof e!="object"||e===null){let i=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${i}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[On]=!1,this[Hr]=[],this[Le]=!1,this[ut]=!1,this[_o]=!1,this[yr]=null,this[Rt]=this[Rt].bind(this),this[Ge]=this[Ge].bind(this),this[Wr]=this[Wr].bind(this),this[ft]=r[ft],this[kt]=r[kt],this[Ln]=n,this[at]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[ge]=0,this[So]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[ge]}get limit(){return this[at]}next(e){let r;if(e===void 0)r=new Promise((n,i)=>{e=(o,s,c)=>{o?i(o):this[Ln]?s===void 0&&c===void 0?n():n([s,c]):n(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[ut]?this.nextTick(e,new ye("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Le]?this.nextTick(e,new ye("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Le]=!0,this[yr]=e,this[ge]>=this[at]?this.nextTick(this[Rt],null):this._next(this[Rt])),r}_next(e){this.nextTick(e)}nextv(e,r,n){return n=Ou(r,n),n=Eo(n,It),r=vo(r,Cn),Number.isInteger(e)?(this[ut]?this.nextTick(n,new ye("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Le]?this.nextTick(n,new ye("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[at]<1/0&&(e=Math.min(e,this[at]-this[ge])),this[Le]=!0,this[yr]=n,e<=0?this.nextTick(this[Ge],null,[]):this._nextv(e,r,this[Ge])),n[It]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[It])}_nextv(e,r,n){let i=[],o=(s,c,u)=>{if(s)return n(s);if(this[Ln]?c===void 0&&u===void 0:c===void 0)return n(null,i);i.push(this[Ln]?[c,u]:c),i.length===e?n(null,i):this._next(o)};this._next(o)}all(e,r){return r=Ou(e,r),r=Eo(r,It),e=vo(e,Cn),this[ut]?this.nextTick(r,new ye("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Le]?this.nextTick(r,new ye("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Le]=!0,this[yr]=r,this[_o]=!0,this[ge]>=this[at]?this.nextTick(this[Ge],null,[]):this._all(e,this[Ge])),r[It]}_all(e,r){let n=this[ge],i=[],o=()=>{let c=this[at]<1/0?Math.min(1e3,this[at]-n):1e3;c<=0?this.nextTick(r,null,i):this._nextv(c,Cn,s)},s=(c,u)=>{c?r(c):u.length===0?r(null,i):(i.push.apply(i,u),n+=u.length,o())};o()}[lt](){let e=this[yr];return this[So]&&e===null?sy:(this[Le]=!1,this[yr]=null,this[ut]&&this._close(this[Wr]),e)}[Ce](e,r,n){this[_o]?this.close(e.bind(null,r,n)):e(r,n)}seek(e,r){if(r=vo(r,Cn),!this[ut]){if(this[Le])throw new ye("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let n=this.db.keyEncoding(r.keyEncoding||this[ft]),i=n.format;r.keyEncoding!==i&&(r={...r,keyEncoding:i});let o=this.db.prefixKey(n.encode(e),i);this._seek(o,r)}}}_seek(e,r){throw new ye("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=Eo(e,It),this[On]?this.nextTick(e):this[ut]?this[Hr].push(e):(this[ut]=!0,this[Hr].push(e),this[Le]?this[So]&&this[lt]()(new ye("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Wr])),e[It]}_close(e){this.nextTick(e)}[Wr](){this[On]=!0,this.db.detachResource(this);let e=this[Hr];this[Hr]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[On]||await this.close()}}},pr=class extends Gr{constructor(e,r){super(e,r,!0),this[Ao]=r.keys!==!1,this[To]=r.values!==!1}[Rt](e,r,n){let i=this[lt]();if(e)return i(e);try{r=this[Ao]&&r!==void 0?this[ft].decode(r):void 0,n=this[To]&&n!==void 0?this[kt].decode(n):void 0}catch(o){return i(new dt("entry",o))}r===void 0&&n===void 0||this[ge]++,i(null,r,n)}[Ge](e,r){let n=this[lt]();if(e)return this[Ce](n,e);try{for(let i of r){let o=i[0],s=i[1];i[0]=this[Ao]&&o!==void 0?this[ft].decode(o):void 0,i[1]=this[To]&&s!==void 0?this[kt].decode(s):void 0}}catch(i){return this[Ce](n,new dt("entries",i))}this[ge]+=r.length,this[Ce](n,null,r)}end(e){return!Lu&&typeof console<"u"&&(Lu=!0,console.warn(new ye("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},Bo=class extends Gr{constructor(e,r){super(e,r,!1)}[Rt](e,r){let n=this[lt]();if(e)return n(e);try{r=r!==void 0?this[ft].decode(r):void 0}catch(i){return n(new dt("key",i))}r!==void 0&&this[ge]++,n(null,r)}[Ge](e,r){let n=this[lt]();if(e)return this[Ce](n,e);try{for(let i=0;i<r.length;i++){let o=r[i];r[i]=o!==void 0?this[ft].decode(o):void 0}}catch(i){return this[Ce](n,new dt("keys",i))}this[ge]+=r.length,this[Ce](n,null,r)}},Io=class extends Gr{constructor(e,r){super(e,r,!1)}[Rt](e,r){let n=this[lt]();if(e)return n(e);try{r=r!==void 0?this[kt].decode(r):void 0}catch(i){return n(new dt("value",i))}r!==void 0&&this[ge]++,n(null,r)}[Ge](e,r){let n=this[lt]();if(e)return this[Ce](n,e);try{for(let i=0;i<r.length;i++){let o=r[i];r[i]=o!==void 0?this[kt].decode(o):void 0}}catch(i){return this[Ce](n,new dt("values",i))}this[ge]+=r.length,this[Ce](n,null,r)}},dt=class extends ye{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(pr.prototype,t.split(" ")[0],{get(){throw new ye(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ye(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});pr.keyEncoding=ft;pr.valueEncoding=kt;Un.AbstractIterator=pr;Un.AbstractKeyIterator=Bo;Un.AbstractValueIterator=Io});var Cu=S(Ro=>{"use strict";var dE=f(d()),{AbstractKeyIterator:cy,AbstractValueIterator:uy}=ht(),Ot=Symbol("iterator"),Jr=Symbol("callback"),wr=Symbol("handleOne"),Lt=Symbol("handleMany"),zr=class extends cy{constructor(e,r){super(e,r),this[Ot]=e.iterator({...r,keys:!0,values:!1}),this[wr]=this[wr].bind(this),this[Lt]=this[Lt].bind(this)}},Dn=class extends uy{constructor(e,r){super(e,r),this[Ot]=e.iterator({...r,keys:!1,values:!0}),this[wr]=this[wr].bind(this),this[Lt]=this[Lt].bind(this)}};for(let t of[zr,Dn]){let e=t===zr,r=e?n=>n[0]:n=>n[1];t.prototype._next=function(n){this[Jr]=n,this[Ot].next(this[wr])},t.prototype[wr]=function(n,i,o){let s=this[Jr];n?s(n):s(null,e?i:o)},t.prototype._nextv=function(n,i,o){this[Jr]=o,this[Ot].nextv(n,i,this[Lt])},t.prototype._all=function(n,i){this[Jr]=i,this[Ot].all(n,this[Lt])},t.prototype[Lt]=function(n,i){let o=this[Jr];n?o(n):o(null,i.map(r))},t.prototype._seek=function(n,i){this[Ot].seek(n,i)},t.prototype._close=function(n){this[Ot].close(n)}}Ro.DefaultKeyIterator=zr;Ro.DefaultValueIterator=Dn});var Uu=S(qn=>{"use strict";var yE=f(d()),{AbstractIterator:ay,AbstractKeyIterator:fy,AbstractValueIterator:ly}=ht(),ko=_e(),de=Symbol("nut"),Kn=Symbol("undefer"),Fn=Symbol("factory"),Pn=class extends ay{constructor(e,r){super(e,r),this[de]=null,this[Fn]=()=>e.iterator(r),this.db.defer(()=>this[Kn]())}},Nn=class extends fy{constructor(e,r){super(e,r),this[de]=null,this[Fn]=()=>e.keys(r),this.db.defer(()=>this[Kn]())}},Mn=class extends ly{constructor(e,r){super(e,r),this[de]=null,this[Fn]=()=>e.values(r),this.db.defer(()=>this[Kn]())}};for(let t of[Pn,Nn,Mn])t.prototype[Kn]=function(){this.db.status==="open"&&(this[de]=this[Fn]())},t.prototype._next=function(e){this[de]!==null?this[de].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new ko("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,n){this[de]!==null?this[de].nextv(e,r,n):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,n)):this.nextTick(n,new ko("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[de]!==null?this[de].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new ko("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[de]!==null?this[de]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[de]!==null?this[de].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};qn.DeferredIterator=Pn;qn.DeferredKeyIterator=Nn;qn.DeferredValueIterator=Mn});var Lo=S(Pu=>{"use strict";var wE=f(d()),{fromCallback:Du}=Vr(),jn=_e(),{getCallback:dy,getOptions:hy}=kn(),$n=Symbol("promise"),me=Symbol("status"),br=Symbol("operations"),Yr=Symbol("finishClose"),gr=Symbol("closeCallbacks"),Oo=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[br]=[],this[gr]=[],this[me]="open",this[Yr]=this[Yr].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[br].length}put(e,r,n){if(this[me]!=="open")throw new jn("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e)||this.db._checkValue(r);if(i)throw i;let o=n&&n.sublevel!=null?n.sublevel:this.db,s=n,c=o.keyEncoding(n&&n.keyEncoding),u=o.valueEncoding(n&&n.valueEncoding),a=c.format;n={...n,keyEncoding:a,valueEncoding:u.format},o!==this.db&&(n.sublevel=null);let l=o.prefixKey(c.encode(e),a),h=u.encode(r);return this._put(l,h,n),this[br].push({...s,type:"put",key:e,value:r}),this}_put(e,r,n){}del(e,r){if(this[me]!=="open")throw new jn("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e);if(n)throw n;let i=r&&r.sublevel!=null?r.sublevel:this.db,o=r,s=i.keyEncoding(r&&r.keyEncoding),c=s.format;return r={...r,keyEncoding:c},i!==this.db&&(r.sublevel=null),this._del(i.prefixKey(s.encode(e),c),r),this[br].push({...o,type:"del",key:e}),this}_del(e,r){}clear(){if(this[me]!=="open")throw new jn("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[br]=[],this}_clear(){}write(e,r){return r=dy(e,r),r=Du(r,$n),e=hy(e),this[me]!=="open"?this.nextTick(r,new jn("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[me]="writing",this._write(e,n=>{this[me]="closing",this[gr].push(()=>r(n)),n||this.db.emit("batch",this[br]),this._close(this[Yr])})),r[$n]}_write(e,r){}close(e){return e=Du(e,$n),this[me]==="closing"?this[gr].push(e):this[me]==="closed"?this.nextTick(e):(this[gr].push(e),this[me]!=="writing"&&(this[me]="closing",this._close(this[Yr]))),e[$n]}_close(e){this.nextTick(e)}[Yr](){this[me]="closed",this.db.detachResource(this);let e=this[gr];this[gr]=[];for(let r of e)r()}};Pu.AbstractChainedBatch=Oo});var Mu=S(Nu=>{"use strict";var gE=f(d()),{AbstractChainedBatch:yy}=Lo(),py=_e(),mr=Symbol("encoded"),Co=class extends yy{constructor(e){super(e),this[mr]=[]}_put(e,r,n){this[mr].push({...n,type:"put",key:e,value:r})}_del(e,r){this[mr].push({...r,type:"del",key:e})}_clear(){this[mr]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[mr].length===0?this.nextTick(r):this.db._batch(this[mr],e,r):this.nextTick(r,new py("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};Nu.DefaultChainedBatch=Co});var qu=S((mE,Fu)=>{"use strict";var xE=f(d()),Ku=_e(),wy=Object.prototype.hasOwnProperty,by=new Set(["lt","lte","gt","gte"]);Fu.exports=function(t,e){let r={};for(let n in t)if(wy.call(t,n)&&!(n==="keyEncoding"||n==="valueEncoding")){if(n==="start"||n==="end")throw new Ku(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if(n==="encoding")throw new Ku("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});by.has(n)?r[n]=e.encode(t[n]):r[n]=t[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var Uo=S((EE,$u)=>{var vE=f(d());var ju;$u.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(ju||(ju=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Hu=S((_E,Wu)=>{"use strict";var SE=f(d()),Vu=Uo();Wu.exports=function(t,...e){e.length===0?Vu(t):Vu(()=>t(...e))}});var Gu=S(Vn=>{"use strict";var TE=f(d()),{AbstractIterator:gy,AbstractKeyIterator:my,AbstractValueIterator:xy}=ht(),xr=Symbol("unfix"),Se=Symbol("iterator"),Ct=Symbol("handleOne"),yt=Symbol("handleMany"),Je=Symbol("callback"),Xr=class extends gy{constructor(e,r,n,i){super(e,r),this[Se]=n,this[xr]=i,this[Ct]=this[Ct].bind(this),this[yt]=this[yt].bind(this),this[Je]=null}[Ct](e,r,n){let i=this[Je];if(e)return i(e);r!==void 0&&(r=this[xr](r)),i(e,r,n)}[yt](e,r){let n=this[Je];if(e)return n(e);for(let i of r){let o=i[0];o!==void 0&&(i[0]=this[xr](o))}n(e,r)}},Zr=class extends my{constructor(e,r,n,i){super(e,r),this[Se]=n,this[xr]=i,this[Ct]=this[Ct].bind(this),this[yt]=this[yt].bind(this),this[Je]=null}[Ct](e,r){let n=this[Je];if(e)return n(e);r!==void 0&&(r=this[xr](r)),n(e,r)}[yt](e,r){let n=this[Je];if(e)return n(e);for(let i=0;i<r.length;i++){let o=r[i];o!==void 0&&(r[i]=this[xr](o))}n(e,r)}},Qr=class extends xy{constructor(e,r,n){super(e,r),this[Se]=n}};for(let t of[Xr,Zr])t.prototype._next=function(e){this[Je]=e,this[Se].next(this[Ct])},t.prototype._nextv=function(e,r,n){this[Je]=n,this[Se].nextv(e,r,this[yt])},t.prototype._all=function(e,r){this[Je]=r,this[Se].all(e,this[yt])};for(let t of[Qr])t.prototype._next=function(e){this[Se].next(e)},t.prototype._nextv=function(e,r,n){this[Se].nextv(e,r,n)},t.prototype._all=function(e,r){this[Se].all(e,r)};for(let t of[Xr,Zr,Qr])t.prototype._seek=function(e,r){this[Se].seek(e,r)},t.prototype._close=function(e){this[Se].close(e)};Vn.AbstractSublevelIterator=Xr;Vn.AbstractSublevelKeyIterator=Zr;Vn.AbstractSublevelValueIterator=Qr});var Xu=S((BE,Yu)=>{"use strict";var IE=f(d()),Do=_e(),{Buffer:Mo}=fe()||{},{AbstractSublevelIterator:Ey,AbstractSublevelKeyIterator:vy,AbstractSublevelValueIterator:_y}=Gu(),ze=Symbol("prefix"),Ju=Symbol("upperBound"),en=Symbol("prefixRange"),pe=Symbol("parent"),Po=Symbol("unfix"),zu=new TextEncoder,Sy={separator:"!"};Yu.exports=function({AbstractLevel:t}){class e extends t{static defaults(n){if(typeof n=="string")throw new Do("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(n&&n.open)throw new Do("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return n==null?Sy:n.separator?n:{...n,separator:"!"}}constructor(n,i,o){let{separator:s,manifest:c,...u}=e.defaults(o);i=Ty(i,s);let a=s.charCodeAt(0)+1,l=n[pe]||n;if(!zu.encode(i).every(p=>p>a&&p<127))throw new Do(`Prefix must use bytes > ${a} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(Ay(l,c),u);let h=(n.prefix||"")+s+i+s,w=h.slice(0,-1)+String.fromCharCode(a);this[pe]=l,this[ze]=new Wn(h),this[Ju]=new Wn(w),this[Po]=new Ko,this.nextTick=l.nextTick}prefixKey(n,i){if(i==="utf8")return this[ze].utf8+n;if(n.byteLength===0)return this[ze][i];if(i==="view"){let o=this[ze].view,s=new Uint8Array(o.byteLength+n.byteLength);return s.set(o,0),s.set(n,o.byteLength),s}else{let o=this[ze].buffer;return Mo.concat([o,n],o.byteLength+n.byteLength)}}[en](n,i){n.gte!==void 0?n.gte=this.prefixKey(n.gte,i):n.gt!==void 0?n.gt=this.prefixKey(n.gt,i):n.gte=this[ze][i],n.lte!==void 0?n.lte=this.prefixKey(n.lte,i):n.lt!==void 0?n.lt=this.prefixKey(n.lt,i):n.lte=this[Ju][i]}get prefix(){return this[ze].utf8}get db(){return this[pe]}_open(n,i){this[pe].open({passive:!0},i)}_put(n,i,o,s){this[pe].put(n,i,o,s)}_get(n,i,o){this[pe].get(n,i,o)}_getMany(n,i,o){this[pe].getMany(n,i,o)}_del(n,i,o){this[pe].del(n,i,o)}_batch(n,i,o){this[pe].batch(n,i,o)}_clear(n,i){this[en](n,n.keyEncoding),this[pe].clear(n,i)}_iterator(n){this[en](n,n.keyEncoding);let i=this[pe].iterator(n),o=this[Po].get(this[ze].utf8.length,n.keyEncoding);return new Ey(this,n,i,o)}_keys(n){this[en](n,n.keyEncoding);let i=this[pe].keys(n),o=this[Po].get(this[ze].utf8.length,n.keyEncoding);return new vy(this,n,i,o)}_values(n){this[en](n,n.keyEncoding);let i=this[pe].values(n);return new _y(this,n,i)}}return{AbstractSublevel:e}};var Ay=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:No(t,"utf8"),buffer:No(t,"buffer"),view:No(t,"view")}}},No=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},Wn=class{constructor(e){this.utf8=e,this.view=zu.encode(e),this.buffer=Mo?Mo.from(this.view.buffer,0,this.view.byteLength):{}}},Ko=class{constructor(){this.cache=new Map}get(e,r){let n=this.cache.get(r);return n===void 0&&(r==="view"?n=(function(i,o){return o.subarray(i)}).bind(null,e):n=(function(i,o){return o.slice(i)}).bind(null,e),this.cache.set(r,n)),n}},Ty=function(t,e){let r=0,n=t.length;for(;r<n&&t[r]===e;)r++;for(;n>r&&t[n-1]===e;)n--;return t.slice(r,n)}});var Vo=S($o=>{"use strict";var kE=f(d()),{supports:By}=cu(),{Transcoder:Iy}=bu(),{EventEmitter:Ry}=$r(),{fromCallback:pt}=Vr(),Ae=_e(),{AbstractIterator:Ut}=ht(),{DefaultKeyIterator:ky,DefaultValueIterator:Oy}=Cu(),{DeferredIterator:Ly,DeferredKeyIterator:Cy,DeferredValueIterator:Uy}=Uu(),{DefaultChainedBatch:Zu}=Mu(),{getCallback:Dt,getOptions:wt}=kn(),Hn=qu(),R=Symbol("promise"),Ye=Symbol("landed"),Pt=Symbol("resources"),Fo=Symbol("closeResources"),tn=Symbol("operations"),rn=Symbol("undefer"),Gn=Symbol("deferOpen"),Qu=Symbol("options"),L=Symbol("status"),Nt=Symbol("defaultOptions"),Er=Symbol("transcoder"),Jn=Symbol("keyEncoding"),qo=Symbol("valueEncoding"),Dy=()=>{},nn=class extends Ry{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=wt(r);let{keyEncoding:n,valueEncoding:i,passive:o,...s}=r;this[Pt]=new Set,this[tn]=[],this[Gn]=!0,this[Qu]=s,this[L]="opening",this.supports=By(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Er]=new Iy(Py(this)),this[Jn]=this[Er].encoding(n||"utf8"),this[qo]=this[Er].encoding(i||"utf8");for(let c of this[Er].encodings())this.supports.encodings[c.commonName]||(this.supports.encodings[c.commonName]=!0);this[Nt]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[Jn].commonName,valueEncoding:this[qo].commonName}),key:Object.freeze({keyEncoding:this[Jn].commonName})},this.nextTick(()=>{this[Gn]&&this.open({passive:!1},Dy)})}get status(){return this[L]}keyEncoding(e){return this[Er].encoding(e??this[Jn])}valueEncoding(e){return this[Er].encoding(e??this[qo])}open(e,r){r=Dt(e,r),r=pt(r,R),e={...this[Qu],...wt(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let n=i=>{this[L]==="closing"||this[L]==="opening"?this.once(Ye,i?()=>n(i):n):this[L]!=="open"?r(new Ae("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:i})):r()};return e.passive?this[L]==="opening"?this.once(Ye,n):this.nextTick(n):this[L]==="closed"||this[Gn]?(this[Gn]=!1,this[L]="opening",this.emit("opening"),this._open(e,i=>{if(i){this[L]="closed",this[Fo](()=>{this.emit(Ye),n(i)}),this[rn]();return}this[L]="open",this[rn](),this.emit(Ye),this[L]==="open"&&this.emit("open"),this[L]==="open"&&this.emit("ready"),n()})):this[L]==="open"?this.nextTick(n):this.once(Ye,()=>this.open(e,r)),r[R]}_open(e,r){this.nextTick(r)}close(e){e=pt(e,R);let r=n=>{this[L]==="opening"||this[L]==="closing"?this.once(Ye,n?r(n):r):this[L]!=="closed"?e(new Ae("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):e()};if(this[L]==="open"){this[L]="closing",this.emit("closing");let n=i=>{this[L]="open",this[rn](),this.emit(Ye),r(i)};this[Fo](()=>{this._close(i=>{if(i)return n(i);this[L]="closed",this[rn](),this.emit(Ye),this[L]==="closed"&&this.emit("closed"),r()})})}else this[L]==="closed"?this.nextTick(r):this.once(Ye,()=>this.close(e));return e[R]}[Fo](e){if(this[Pt].size===0)return this.nextTick(e);let r=this[Pt].size,n=!0,i=()=>{--r===0&&(n?this.nextTick(e):e())};for(let o of this[Pt])o.close(i);n=!1,this[Pt].clear()}_close(e){this.nextTick(e)}get(e,r,n){if(n=Dt(r,n),n=pt(n,R),r=wt(r,this[Nt].entry),this[L]==="opening")return this.defer(()=>this.get(e,r,n)),n[R];if(vr(this,n))return n[R];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[R];let o=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),c=o.format,u=s.format;return(r.keyEncoding!==c||r.valueEncoding!==u)&&(r=Object.assign({},r,{keyEncoding:c,valueEncoding:u})),this._get(this.prefixKey(o.encode(e),c),r,(a,l)=>{if(a)return(a.code==="LEVEL_NOT_FOUND"||a.notFound||/NotFound/i.test(a))&&(a.code||(a.code="LEVEL_NOT_FOUND"),a.notFound||(a.notFound=!0),a.status||(a.status=404)),n(a);try{l=s.decode(l)}catch(h){return n(new Ae("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:h}))}n(null,l)}),n[R]}_get(e,r,n){this.nextTick(n,new Error("NotFound"))}getMany(e,r,n){if(n=Dt(r,n),n=pt(n,R),r=wt(r,this[Nt].entry),this[L]==="opening")return this.defer(()=>this.getMany(e,r,n)),n[R];if(vr(this,n))return n[R];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[R];if(e.length===0)return this.nextTick(n,null,[]),n[R];let i=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),s=i.format,c=o.format;(r.keyEncoding!==s||r.valueEncoding!==c)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:c}));let u=new Array(e.length);for(let a=0;a<e.length;a++){let l=e[a],h=this._checkKey(l);if(h)return this.nextTick(n,h),n[R];u[a]=this.prefixKey(i.encode(l),s)}return this._getMany(u,r,(a,l)=>{if(a)return n(a);try{for(let h=0;h<l.length;h++)l[h]!==void 0&&(l[h]=o.decode(l[h]))}catch(h){return n(new Ae(`Could not decode one or more of ${l.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:h}))}n(null,l)}),n[R]}_getMany(e,r,n){this.nextTick(n,null,new Array(e.length).fill(void 0))}put(e,r,n,i){if(i=Dt(n,i),i=pt(i,R),n=wt(n,this[Nt].entry),this[L]==="opening")return this.defer(()=>this.put(e,r,n,i)),i[R];if(vr(this,i))return i[R];let o=this._checkKey(e)||this._checkValue(r);if(o)return this.nextTick(i,o),i[R];let s=this.keyEncoding(n.keyEncoding),c=this.valueEncoding(n.valueEncoding),u=s.format,a=c.format;(n.keyEncoding!==u||n.valueEncoding!==a)&&(n=Object.assign({},n,{keyEncoding:u,valueEncoding:a}));let l=this.prefixKey(s.encode(e),u),h=c.encode(r);return this._put(l,h,n,w=>{if(w)return i(w);this.emit("put",e,r),i()}),i[R]}_put(e,r,n,i){this.nextTick(i)}del(e,r,n){if(n=Dt(r,n),n=pt(n,R),r=wt(r,this[Nt].key),this[L]==="opening")return this.defer(()=>this.del(e,r,n)),n[R];if(vr(this,n))return n[R];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[R];let o=this.keyEncoding(r.keyEncoding),s=o.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(o.encode(e),s),r,c=>{if(c)return n(c);this.emit("del",e),n()}),n[R]}_del(e,r,n){this.nextTick(n)}batch(e,r,n){if(!arguments.length){if(this[L]==="opening")return new Zu(this);if(this[L]!=="open")throw new Ae("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?n=e:n=Dt(r,n),n=pt(n,R),r=wt(r,this[Nt].empty),this[L]==="opening")return this.defer(()=>this.batch(e,r,n)),n[R];if(vr(this,n))return n[R];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[R];if(e.length===0)return this.nextTick(n),n[R];let i=new Array(e.length),{keyEncoding:o,valueEncoding:s,...c}=r;for(let u=0;u<e.length;u++){if(typeof e[u]!="object"||e[u]===null)return this.nextTick(n,new TypeError("A batch operation must be an object")),n[R];let a=Object.assign({},e[u]);if(a.type!=="put"&&a.type!=="del")return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[R];let l=this._checkKey(a.key);if(l)return this.nextTick(n,l),n[R];let h=a.sublevel!=null?a.sublevel:this,w=h.keyEncoding(a.keyEncoding||o),p=w.format;if(a.key=h.prefixKey(w.encode(a.key),p),a.keyEncoding=p,a.type==="put"){let y=this._checkValue(a.value);if(y)return this.nextTick(n,y),n[R];let g=h.valueEncoding(a.valueEncoding||s);a.value=g.encode(a.value),a.valueEncoding=g.format}h!==this&&(a.sublevel=null),i[u]=a}return this._batch(i,c,u=>{if(u)return n(u);this.emit("batch",e),n()}),n[R]}_batch(e,r,n){this.nextTick(n)}sublevel(e,r){return this._sublevel(e,jo.defaults(r))}_sublevel(e,r){return new jo(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=Dt(e,r),r=pt(r,R),e=wt(e,this[Nt].empty),this[L]==="opening")return this.defer(()=>this.clear(e,r)),r[R];if(vr(this,r))return r[R];let n=e,i=this.keyEncoding(e.keyEncoding);return e=Hn(e,i),e.keyEncoding=i.format,e.limit===0?this.nextTick(r):this._clear(e,o=>{if(o)return r(o);this.emit("clear",n),r()}),r[R]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Hn(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[Ut.keyEncoding]=r,e[Ut.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[L]==="opening")return new Ly(this,e);if(this[L]!=="open")throw new Ae("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new Ut(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Hn(e,r),e[Ut.keyEncoding]=r,e[Ut.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[L]==="opening")return new Cy(this,e);if(this[L]!=="open")throw new Ae("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new ky(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Hn(e,r),e[Ut.keyEncoding]=r,e[Ut.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[L]==="opening")return new Uy(this,e);if(this[L]!=="open")throw new Ae("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new Oy(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[tn].push(e)}[rn](){if(this[tn].length===0)return;let e=this[tn];this[tn]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[Pt].add(e)}detachResource(e){this[Pt].delete(e)}_chainedBatch(){return new Zu(this)}_checkKey(e){if(e==null)return new Ae("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new Ae("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};nn.prototype.nextTick=Hu();var{AbstractSublevel:jo}=Xu()({AbstractLevel:nn});$o.AbstractLevel=nn;$o.AbstractSublevel=jo;var vr=function(t,e){return t[L]!=="open"?(t.nextTick(e,new Ae("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},Py=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var Wo=S(Mt=>{"use strict";var LE=f(d());Mt.AbstractLevel=Vo().AbstractLevel;Mt.AbstractSublevel=Vo().AbstractSublevel;Mt.AbstractIterator=ht().AbstractIterator;Mt.AbstractKeyIterator=ht().AbstractKeyIterator;Mt.AbstractValueIterator=ht().AbstractValueIterator;Mt.AbstractChainedBatch=Lo().AbstractChainedBatch});var ta=S((CE,ea)=>{var UE=f(d());ea.exports=My;var Ny=Uo();function My(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let n,i,o,s,c,u=!0,a;Array.isArray(t)?(n=[],o=i=t.length):(s=Object.keys(t),n={},o=i=s.length);function l(w){function p(){r&&r(w,n),r=null}u?Ny(p):p()}function h(w,p,y){if(n[w]=y,p&&(c=!0),--o===0||p)l(p);else if(!c&&a<i){let g;s?(g=s[a],a+=1,t[g](function(x,E){h(g,x,E)})):(g=a,a+=1,t[g](function(x,E){h(g,x,E)}))}}a=e,o?s?s.some(function(w,p){return t[w](function(y,g){h(w,y,g)}),p===e-1}):t.some(function(w,p){return w(function(y,g){h(p,y,g)}),p===e-1}):l(null),u=!1}});var Ho=S((DE,ra)=>{"use strict";var PE=f(d());ra.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,n=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,i=e.gte===void 0,o=e.lte===void 0;return r!==void 0&&n!==void 0?IDBKeyRange.bound(r,n,i,o):r!==void 0?IDBKeyRange.lowerBound(r,i):n!==void 0?IDBKeyRange.upperBound(n,o):null}});var Go=S((NE,na)=>{"use strict";var ME=f(d()),Ky=new TextEncoder;na.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Ky.encode(t)}});var ua=S(ca=>{"use strict";var FE=f(d()),{AbstractIterator:Fy}=Wo(),ia=Ho(),zn=Go(),Ue=Symbol("cache"),Xe=Symbol("finished"),we=Symbol("options"),Ze=Symbol("currentOptions"),Kt=Symbol("position"),Jo=Symbol("location"),_r=Symbol("first"),oa={},zo=class extends Fy{constructor(e,r,n){super(e,n),this[Ue]=[],this[Xe]=this.limit===0,this[we]=n,this[Ze]={...n},this[Kt]=void 0,this[Jo]=r,this[_r]=!0}_nextv(e,r,n){if(this[_r]=!1,this[Xe])return this.nextTick(n,null,[]);if(this[Ue].length>0)return e=Math.min(e,this[Ue].length),this.nextTick(n,null,this[Ue].splice(0,e));this[Kt]!==void 0&&(this[we].reverse?(this[Ze].lt=this[Kt],this[Ze].lte=void 0):(this[Ze].gt=this[Kt],this[Ze].gte=void 0));let i;try{i=ia(this[Ze])}catch{return this[Xe]=!0,this.nextTick(n,null,[])}let o=this.db.db.transaction([this[Jo]],"readonly"),s=o.objectStore(this[Jo]),c=[];if(this[we].reverse){let u=!this[we].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[u](i,"prev").onsuccess=a=>{let l=a.target.result;if(l){let{key:h,value:w}=l;this[Kt]=h,c.push([this[we].keys&&h!==void 0?zn(h):void 0,this[we].values&&w!==void 0?zn(w):void 0]),c.length<e?l.continue():sa(o)}else this[Xe]=!0}}else{let u,a,l=()=>{if(u===void 0||a===void 0)return;let h=Math.max(u.length,a.length);h===0||e===1/0?this[Xe]=!0:this[Kt]=u[h-1],c.length=h;for(let w=0;w<h;w++){let p=u[w],y=a[w];c[w]=[this[we].keys&&p!==void 0?zn(p):void 0,this[we].values&&y!==void 0?zn(y):void 0]}sa(o)};this[we].keys||e<1/0?s.getAllKeys(i,e<1/0?e:void 0).onsuccess=h=>{u=h.target.result,l()}:(u=[],this.nextTick(l)),this[we].values?s.getAll(i,e<1/0?e:void 0).onsuccess=h=>{a=h.target.result,l()}:(a=[],this.nextTick(l))}o.onabort=()=>{n(o.error||new Error("aborted by user")),n=null},o.oncomplete=()=>{n(null,c),n=null}}_next(e){if(this[Ue].length>0){let[r,n]=this[Ue].shift();this.nextTick(e,null,r,n)}else if(this[Xe])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[_r]&&(this[_r]=!1,r=1),this._nextv(r,oa,(n,i)=>{if(n)return e(n);this[Ue]=i,this._next(e)})}}_all(e,r){this[_r]=!1;let n=this[Ue].splice(0,this[Ue].length),i=this.limit-this.count-n.length;if(i<=0)return this.nextTick(r,null,n);this._nextv(i,oa,(o,s)=>{if(o)return r(o);n.length>0&&(s=n.concat(s)),r(null,s)})}_seek(e,r){this[_r]=!0,this[Ue]=[],this[Xe]=!1,this[Kt]=void 0,this[Ze]={...this[we]};let n;try{n=ia(this[we])}catch{this[Xe]=!0;return}n!==null&&!n.includes(e)?this[Xe]=!0:this[we].reverse?this[Ze].lte=e:this[Ze].gte=e}};ca.Iterator=zo;function sa(t){typeof t.commit=="function"&&t.commit()}});var fa=S((qE,aa)=>{"use strict";var jE=f(d());aa.exports=function(e,r,n,i,o){if(i.limit===0)return e.nextTick(o);let s=e.db.transaction([r],"readwrite"),c=s.objectStore(r),u=0;s.oncomplete=function(){o()},s.onabort=function(){o(s.error||new Error("aborted by user"))};let a=c.openKeyCursor?"openKeyCursor":"openCursor",l=i.reverse?"prev":"next";c[a](n,l).onsuccess=function(h){let w=h.target.result;w&&(c.delete(w.key).onsuccess=function(){(i.limit<=0||++u<i.limit)&&w.continue()})}}});var wa=S(pa=>{"use strict";var VE=f(d()),{AbstractLevel:qy}=Wo(),la=_e(),jy=ta(),{fromCallback:$y}=Vr(),{Iterator:Vy}=ua(),da=Go(),Wy=fa(),Hy=Ho(),ya="level-js-",on=Symbol("idb"),Yo=Symbol("namePrefix"),Qe=Symbol("location"),Xo=Symbol("version"),Ft=Symbol("store"),sn=Symbol("onComplete"),ha=Symbol("promise"),Yn=class extends qy{constructor(e,r,n){if(typeof r=="function"||typeof n=="function")throw new la("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:i,version:o,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[Qe]=e,this[Yo]=i??ya,this[Xo]=parseInt(o||1,10),this[on]=null}get location(){return this[Qe]}get namePrefix(){return this[Yo]}get version(){return this[Xo]}get db(){return this[on]}get type(){return"browser-level"}_open(e,r){let n=indexedDB.open(this[Yo]+this[Qe],this[Xo]);n.onerror=function(){r(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[on]=n.result,r()},n.onupgradeneeded=i=>{let o=i.target.result;o.objectStoreNames.contains(this[Qe])||o.createObjectStore(this[Qe])}}[Ft](e){return this[on].transaction([this[Qe]],e).objectStore(this[Qe])}[sn](e,r){let n=e.transaction;n.onabort=function(){r(n.error||new Error("aborted by user"))},n.oncomplete=function(){r(null,e.result)}}_get(e,r,n){let i=this[Ft]("readonly"),o;try{o=i.get(e)}catch(s){return this.nextTick(n,s)}this[sn](o,function(s,c){if(s)return n(s);if(c===void 0)return n(new la("Entry not found",{code:"LEVEL_NOT_FOUND"}));n(null,da(c))})}_getMany(e,r,n){let i=this[Ft]("readonly"),o=e.map(s=>c=>{let u;try{u=i.get(s)}catch(a){return c(a)}u.onsuccess=()=>{let a=u.result;c(null,a===void 0?a:da(a))},u.onerror=a=>{a.stopPropagation(),c(u.error)}});jy(o,16,n)}_del(e,r,n){let i=this[Ft]("readwrite"),o;try{o=i.delete(e)}catch(s){return this.nextTick(n,s)}this[sn](o,n)}_put(e,r,n,i){let o=this[Ft]("readwrite"),s;try{s=o.put(r,e)}catch(c){return this.nextTick(i,c)}this[sn](s,i)}_iterator(e){return new Vy(this,this[Qe],e)}_batch(e,r,n){let i=this[Ft]("readwrite"),o=i.transaction,s=0,c;o.onabort=function(){n(c||o.error||new Error("aborted by user"))},o.oncomplete=function(){n()};function u(){let a=e[s++],l=a.key,h;try{h=a.type==="del"?i.delete(l):i.put(a.value,l)}catch(w){c=w,o.abort();return}s<e.length?h.onsuccess=u:typeof o.commit=="function"&&o.commit()}u()}_clear(e,r){let n,i;try{n=Hy(e)}catch{return this.nextTick(r)}if(e.limit>=0)return Wy(this,this[Qe],n,e,r);try{let o=this[Ft]("readwrite");i=n?o.delete(n):o.clear()}catch(o){return this.nextTick(r,o)}this[sn](i,r)}_close(e){this[on].close(),this.nextTick(e)}};Yn.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=ya),r=$y(r,ha);let n=indexedDB.deleteDatabase(e+t);return n.onsuccess=function(){r()},n.onerror=function(i){r(i)},r[ha]};pa.BrowserLevel=Yn});var ga=S(ba=>{var HE=f(d());ba.Level=wa().BrowserLevel});var ee=S((ZE,ma)=>{"use strict";var QE=f(d());ma.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var De=S((ev,Qo)=>{"use strict";var tv=f(d()),Jy=fe(),zy=Object.getPrototypeOf(async function(){}).constructor,xa=globalThis.Blob||Jy.Blob,Yy=typeof xa<"u"?function(e){return e instanceof xa}:function(e){return!1},Zo=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Qo.exports={AggregateError:Zo,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof zy},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Yy};Qo.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Zn=S((rv,Xn)=>{"use strict";var nv=f(d()),{AbortController:Ea,AbortSignal:Xy}=typeof self<"u"?self:typeof window<"u"?window:void 0;Xn.exports=Ea;Xn.exports.AbortSignal=Xy;Xn.exports.default=Ea});var ce=S((iv,Sa)=>{"use strict";var ov=f(d()),{format:Zy,inspect:Qn,AggregateError:Qy}=De(),ep=globalThis.AggregateError||Qy,tp=Symbol("kIsNodeError"),rp=["string","function","number","object","Function","Object","boolean","bigint","symbol"],np=/^([A-Z][a-z0-9]*)+$/,ip="__node_internal_",ei={};function qt(t,e){if(!t)throw new ei.ERR_INTERNAL_ASSERTION(e)}function va(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function op(t,e,r){if(typeof e=="function")return qt(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return qt(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Zy(e,...r)}function ne(t,e,r){r||(r=Error);class n extends r{constructor(...o){super(op(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[tp]=!0,ei[t]=n}function _a(t){let e=ip+t.name;return Object.defineProperty(t,"name",{value:e}),t}function sp(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new ep([e,t],e.message);return r.code=e.code,r}return t||e}var es=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new ei.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ne("ERR_ASSERTION","%s",Error);ne("ERR_INVALID_ARG_TYPE",(t,e,r)=>{qt(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],o=[],s=[];for(let u of e)qt(typeof u=="string","All expected entries have to be of type string"),rp.includes(u)?i.push(u.toLowerCase()):np.test(u)?o.push(u):(qt(u!=="object",'The value "object" should be written as "Object"'),s.push(u));if(o.length>0){let u=i.indexOf("object");u!==-1&&(i.splice(i,u,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let u=i.pop();n+=`one of type ${i.join(", ")}, or ${u}`}}(o.length>0||s.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let u=o.pop();n+=`an instance of ${o.join(", ")}, or ${u}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let u=s.pop();n+=`one of ${s.join(", ")}, or ${u}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var c;if((c=r.constructor)!==null&&c!==void 0&&c.name)n+=`. Received an instance of ${r.constructor.name}`;else{let u=Qn(r,{depth:-1});n+=`. Received ${u}`}}else{let u=Qn(r,{colors:!1});u.length>25&&(u=`${u.slice(0,25)}...`),n+=`. Received type ${typeof r} (${u})`}return n},TypeError);ne("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Qn(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ne("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ne("ERR_MISSING_ARGS",(...t)=>{qt(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ne("ERR_OUT_OF_RANGE",(t,e,r)=>{qt(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=va(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=va(n)),n+="n"):n=Qn(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ne("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ne("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ne("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ne("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ne("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ne("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ne("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ne("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ne("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ne("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ne("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Sa.exports={AbortError:es,aggregateTwoErrors:_a(sp),hideStackFrames:_a,codes:ei}});var cn=S((sv,Ca)=>{"use strict";var cv=f(d()),{ArrayIsArray:rs,ArrayPrototypeIncludes:Ia,ArrayPrototypeJoin:Ra,ArrayPrototypeMap:cp,NumberIsInteger:ns,NumberIsNaN:up,NumberMAX_SAFE_INTEGER:ap,NumberMIN_SAFE_INTEGER:fp,NumberParseInt:lp,ObjectPrototypeHasOwnProperty:dp,RegExpPrototypeExec:ka,String:hp,StringPrototypeToUpperCase:yp,StringPrototypeTrim:pp}=ee(),{hideStackFrames:xe,codes:{ERR_SOCKET_BAD_PORT:wp,ERR_INVALID_ARG_TYPE:ue,ERR_INVALID_ARG_VALUE:Sr,ERR_OUT_OF_RANGE:jt,ERR_UNKNOWN_SIGNAL:Aa}}=ce(),{normalizeEncoding:bp}=De(),{isAsyncFunction:gp,isArrayBufferView:mp}=De().types,Ta={};function xp(t){return t===(t|0)}function Ep(t){return t===t>>>0}var vp=/^[0-7]+$/,_p="must be a 32-bit unsigned integer or an octal string";function Sp(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(ka(vp,t)===null)throw new Sr(e,t,_p);t=lp(t,8)}return Oa(t,e),t}var Ap=xe((t,e,r=fp,n=ap)=>{if(typeof t!="number")throw new ue(e,"number",t);if(!ns(t))throw new jt(e,"an integer",t);if(t<r||t>n)throw new jt(e,`>= ${r} && <= ${n}`,t)}),Tp=xe((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new ue(e,"number",t);if(!ns(t))throw new jt(e,"an integer",t);if(t<r||t>n)throw new jt(e,`>= ${r} && <= ${n}`,t)}),Oa=xe((t,e,r=!1)=>{if(typeof t!="number")throw new ue(e,"number",t);if(!ns(t))throw new jt(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new jt(e,`>= ${n} && <= ${i}`,t)});function is(t,e){if(typeof t!="string")throw new ue(e,"string",t)}function Bp(t,e,r=void 0,n){if(typeof t!="number")throw new ue(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&up(t))throw new jt(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Ip=xe((t,e,r)=>{if(!Ia(r,t)){let i="must be one of: "+Ra(cp(r,o=>typeof o=="string"?`'${o}'`:hp(o)),", ");throw new Sr(e,t,i)}});function La(t,e){if(typeof t!="boolean")throw new ue(e,"boolean",t)}function ts(t,e,r){return t==null||!dp(t,e)?r:t[e]}var Rp=xe((t,e,r=null)=>{let n=ts(r,"allowArray",!1),i=ts(r,"allowFunction",!1);if(!ts(r,"nullable",!1)&&t===null||!n&&rs(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new ue(e,"Object",t)}),kp=xe((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new ue(e,"a dictionary",t)}),os=xe((t,e,r=0)=>{if(!rs(t))throw new ue(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Sr(e,t,n)}});function Op(t,e){os(t,e);for(let r=0;r<t.length;r++)is(t[r],`${e}[${r}]`)}function Lp(t,e){os(t,e);for(let r=0;r<t.length;r++)La(t[r],`${e}[${r}]`)}function Cp(t,e="signal"){if(is(t,e),Ta[t]===void 0)throw Ta[yp(t)]!==void 0?new Aa(t+" (signals must use all capital letters)"):new Aa(t)}var Up=xe((t,e="buffer")=>{if(!mp(t))throw new ue(e,["Buffer","TypedArray","DataView"],t)});function Dp(t,e){let r=bp(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Sr("encoding",e,`is invalid for data of length ${n}`)}function Pp(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&pp(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new wp(e,t,r);return t|0}var Np=xe((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ue(e,"AbortSignal",t)}),Mp=xe((t,e)=>{if(typeof t!="function")throw new ue(e,"Function",t)}),Kp=xe((t,e)=>{if(typeof t!="function"||gp(t))throw new ue(e,"Function",t)}),Fp=xe((t,e)=>{if(t!==void 0)throw new ue(e,"undefined",t)});function qp(t,e,r){if(!Ia(r,t))throw new ue(e,`('${Ra(r,"|")}')`,t)}var jp=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ba(t,e){if(typeof t>"u"||!ka(jp,t))throw new Sr(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function $p(t){if(typeof t=="string")return Ba(t,"hints"),t;if(rs(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];Ba(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Sr("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ca.exports={isInt32:xp,isUint32:Ep,parseFileMode:Sp,validateArray:os,validateStringArray:Op,validateBooleanArray:Lp,validateBoolean:La,validateBuffer:Up,validateDictionary:kp,validateEncoding:Dp,validateFunction:Mp,validateInt32:Tp,validateInteger:Ap,validateNumber:Bp,validateObject:Rp,validateOneOf:Ip,validatePlainFunction:Kp,validatePort:Pp,validateSignalName:Cp,validateString:is,validateUint32:Oa,validateUndefined:Fp,validateUnion:qp,validateAbortSignal:Np,validateLinkHeaderValue:$p}});var bt=S((uv,Na)=>{var av=f(d()),X=Na.exports={},Pe,Ne;function ss(){throw new Error("setTimeout has not been defined")}function cs(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Pe=setTimeout:Pe=ss}catch{Pe=ss}try{typeof clearTimeout=="function"?Ne=clearTimeout:Ne=cs}catch{Ne=cs}})();function Ua(t){if(Pe===setTimeout)return setTimeout(t,0);if((Pe===ss||!Pe)&&setTimeout)return Pe=setTimeout,setTimeout(t,0);try{return Pe(t,0)}catch{try{return Pe.call(null,t,0)}catch{return Pe.call(this,t,0)}}}function Vp(t){if(Ne===clearTimeout)return clearTimeout(t);if((Ne===cs||!Ne)&&clearTimeout)return Ne=clearTimeout,clearTimeout(t);try{return Ne(t)}catch{try{return Ne.call(null,t)}catch{return Ne.call(this,t)}}}var et=[],Ar=!1,$t,ti=-1;function Wp(){!Ar||!$t||(Ar=!1,$t.length?et=$t.concat(et):ti=-1,et.length&&Da())}function Da(){if(!Ar){var t=Ua(Wp);Ar=!0;for(var e=et.length;e;){for($t=et,et=[];++ti<e;)$t&&$t[ti].run();ti=-1,e=et.length}$t=null,Ar=!1,Vp(t)}}X.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];et.push(new Pa(t,e)),et.length===1&&!Ar&&Ua(Da)};function Pa(t,e){this.fun=t,this.array=e}Pa.prototype.run=function(){this.fun.apply(null,this.array)};X.title="browser";X.browser=!0;X.env={};X.argv=[];X.version="";X.versions={};function tt(){}X.on=tt;X.addListener=tt;X.once=tt;X.off=tt;X.removeListener=tt;X.removeAllListeners=tt;X.emit=tt;X.prependListener=tt;X.prependOnceListener=tt;X.listeners=function(t){return[]};X.binding=function(t){throw new Error("process.binding is not supported")};X.cwd=function(){return"/"};X.chdir=function(t){throw new Error("process.chdir is not supported")};X.umask=function(){return 0}});var Ke=S((fv,Qa)=>{"use strict";var lv=f(d()),{Symbol:ri,SymbolAsyncIterator:Ma,SymbolIterator:Ka,SymbolFor:Fa}=ee(),qa=ri("kDestroyed"),ja=ri("kIsErrored"),us=ri("kIsReadable"),$a=ri("kIsDisturbed"),Hp=Fa("nodejs.webstream.isClosedPromise"),Gp=Fa("nodejs.webstream.controllerErrorFunction");function ni(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function ii(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Jp(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Me(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function Va(t){return!!(t&&!Me(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Wa(t){return!!(t&&!Me(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Ha(t){return!!(t&&!Me(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function zp(t){return Va(t)||Wa(t)||Ha(t)}function Yp(t,e){return t==null?!1:e===!0?typeof t[Ma]=="function":e===!1?typeof t[Ka]=="function":typeof t[Ma]=="function"||typeof t[Ka]=="function"}function oi(t){if(!Me(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[qa]||n!=null&&n.destroyed)}function Ga(t){if(!ii(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Xp(t,e){if(!ii(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Zp(t){if(!ni(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Ja(t,e){if(!ni(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function za(t){return t&&t[us]!=null?t[us]:typeof t?.readable!="boolean"?null:oi(t)?!1:ni(t)&&t.readable&&!Ja(t)}function Ya(t){return typeof t?.writable!="boolean"?null:oi(t)?!1:ii(t)&&t.writable&&!Ga(t)}function Qp(t,e){return Me(t)?oi(t)?!0:!(e?.readable!==!1&&za(t)||e?.writable!==!1&&Ya(t)):null}function ew(t){var e,r;return Me(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function tw(t){var e,r;return Me(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function rw(t){if(!Me(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Xa(t)?t._closed:null}function Xa(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Za(t){return typeof t._sent100=="boolean"&&Xa(t)}function nw(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function iw(t){if(!Me(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&Za(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function ow(t){var e;return!!(t&&((e=t[$a])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function sw(t){var e,r,n,i,o,s,c,u,a,l;return!!(t&&((e=(r=(n=(i=(o=(s=t[ja])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&i!==void 0?i:(c=t._readableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&n!==void 0?n:(u=t._writableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(a=t._readableState)===null||a===void 0?void 0:a.errored)!==null&&e!==void 0?e:!((l=t._writableState)===null||l===void 0)&&l.errored))}Qa.exports={kDestroyed:qa,isDisturbed:ow,kIsDisturbed:$a,isErrored:sw,kIsErrored:ja,isReadable:za,kIsReadable:us,kIsClosedPromise:Hp,kControllerErrorFunction:Gp,isClosed:rw,isDestroyed:oi,isDuplexNodeStream:Jp,isFinished:Qp,isIterable:Yp,isReadableNodeStream:ni,isReadableStream:Va,isReadableEnded:Zp,isReadableFinished:Ja,isReadableErrored:tw,isNodeStream:Me,isWebStream:zp,isWritable:Ya,isWritableNodeStream:ii,isWritableStream:Wa,isWritableEnded:Ga,isWritableFinished:Xp,isWritableErrored:ew,isServerRequest:nw,isServerResponse:Za,willEmitClose:iw,isTransformStream:Ha}});var rt=S((dv,hs)=>{var hv=f(d()),gt=bt(),{AbortError:af,codes:cw}=ce(),{ERR_INVALID_ARG_TYPE:uw,ERR_STREAM_PREMATURE_CLOSE:ef}=cw,{kEmptyObject:fs,once:ls}=De(),{validateAbortSignal:aw,validateFunction:fw,validateObject:lw,validateBoolean:dw}=cn(),{Promise:hw,PromisePrototypeThen:yw}=ee(),{isClosed:pw,isReadable:tf,isReadableNodeStream:as,isReadableStream:ww,isReadableFinished:rf,isReadableErrored:nf,isWritable:of,isWritableNodeStream:sf,isWritableStream:bw,isWritableFinished:cf,isWritableErrored:uf,isNodeStream:gw,willEmitClose:mw,kIsClosedPromise:xw}=Ke();function Ew(t){return t.setHeader&&typeof t.abort=="function"}var ds=()=>{};function ff(t,e,r){var n,i;if(arguments.length===2?(r=e,e=fs):e==null?e=fs:lw(e,"options"),fw(r,"callback"),aw(e.signal,"options.signal"),r=ls(r),ww(t)||bw(t))return vw(t,e,r);if(!gw(t))throw new uw("stream",["ReadableStream","WritableStream","Stream"],t);let o=(n=e.readable)!==null&&n!==void 0?n:as(t),s=(i=e.writable)!==null&&i!==void 0?i:sf(t),c=t._writableState,u=t._readableState,a=()=>{t.writable||w()},l=mw(t)&&as(t)===o&&sf(t)===s,h=cf(t,!1),w=()=>{h=!0,t.destroyed&&(l=!1),!(l&&(!t.readable||o))&&(!o||p)&&r.call(t)},p=rf(t,!1),y=()=>{p=!0,t.destroyed&&(l=!1),!(l&&(!t.writable||s))&&(!s||h)&&r.call(t)},g=C=>{r.call(t,C)},x=pw(t),E=()=>{x=!0;let C=uf(t)||nf(t);if(C&&typeof C!="boolean")return r.call(t,C);if(o&&!p&&as(t,!0)&&!rf(t,!1))return r.call(t,new ef);if(s&&!h&&!cf(t,!1))return r.call(t,new ef);r.call(t)},v=()=>{x=!0;let C=uf(t)||nf(t);if(C&&typeof C!="boolean")return r.call(t,C);r.call(t)},m=()=>{t.req.on("finish",w)};Ew(t)?(t.on("complete",w),l||t.on("abort",E),t.req?m():t.on("request",m)):s&&!c&&(t.on("end",a),t.on("close",a)),!l&&typeof t.aborted=="boolean"&&t.on("aborted",E),t.on("end",y),t.on("finish",w),e.error!==!1&&t.on("error",g),t.on("close",E),x?gt.nextTick(E):c!=null&&c.errorEmitted||u!=null&&u.errorEmitted?l||gt.nextTick(v):(!o&&(!l||tf(t))&&(h||of(t)===!1)||!s&&(!l||of(t))&&(p||tf(t)===!1)||u&&t.req&&t.aborted)&&gt.nextTick(v);let T=()=>{r=ds,t.removeListener("aborted",E),t.removeListener("complete",w),t.removeListener("abort",E),t.removeListener("request",m),t.req&&t.req.removeListener("finish",w),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",w),t.removeListener("end",y),t.removeListener("error",g),t.removeListener("close",E)};if(e.signal&&!x){let C=()=>{let I=r;T(),I.call(t,new af(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)gt.nextTick(C);else{let I=r;r=ls((...D)=>{e.signal.removeEventListener("abort",C),I.apply(t,D)}),e.signal.addEventListener("abort",C)}}return T}function vw(t,e,r){let n=!1,i=ds;if(e.signal)if(i=()=>{n=!0,r.call(t,new af(void 0,{cause:e.signal.reason}))},e.signal.aborted)gt.nextTick(i);else{let s=r;r=ls((...c)=>{e.signal.removeEventListener("abort",i),s.apply(t,c)}),e.signal.addEventListener("abort",i)}let o=(...s)=>{n||gt.nextTick(()=>r.apply(t,s))};return yw(t[xw].promise,o,o),ds}function _w(t,e){var r;let n=!1;return e===null&&(e=fs),(r=e)!==null&&r!==void 0&&r.cleanup&&(dw(e.cleanup,"cleanup"),n=e.cleanup),new hw((i,o)=>{let s=ff(t,e,c=>{n&&s(),c?o(c):i()})})}hs.exports=ff;hs.exports.finished=_w});var Vt=S((yv,gf)=>{"use strict";var pv=f(d()),Fe=bt(),{aggregateTwoErrors:Sw,codes:{ERR_MULTIPLE_CALLBACK:Aw},AbortError:Tw}=ce(),{Symbol:hf}=ee(),{kDestroyed:Bw,isDestroyed:Iw,isFinished:Rw,isServerRequest:kw}=Ke(),yf=hf("kDestroy"),ys=hf("kConstruct");function pf(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Ow(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(pf(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?lf(this,t,e):this.once(yf,function(o){lf(this,Sw(o,t),e)}),this)}function lf(t,e,r){let n=!1;function i(o){if(n)return;n=!0;let s=t._readableState,c=t._writableState;pf(o,c,s),c&&(c.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?Fe.nextTick(Lw,t,o):Fe.nextTick(wf,t)}try{t._destroy(e||null,i)}catch(o){i(o)}}function Lw(t,e){ps(t,e),wf(t)}function wf(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function ps(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Cw(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function ws(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Fe.nextTick(ps,t,e):ps(t,e))}function Uw(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(ys,e),!(t.listenerCount(ys)>1)&&Fe.nextTick(Dw,t)}function Dw(t){let e=!1;function r(n){if(e){ws(t,n??new Aw);return}e=!0;let i=t._readableState,o=t._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(yf,n):n?ws(t,n,!0):Fe.nextTick(Pw,t)}try{t._construct(n=>{Fe.nextTick(r,n)})}catch(n){Fe.nextTick(r,n)}}function Pw(t){t.emit(ys)}function df(t){return t?.setHeader&&typeof t.abort=="function"}function bf(t){t.emit("close")}function Nw(t,e){t.emit("error",e),Fe.nextTick(bf,t)}function Mw(t,e){!t||Iw(t)||(!e&&!Rw(t)&&(e=new Tw),kw(t)?(t.socket=null,t.destroy(e)):df(t)?t.abort():df(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Fe.nextTick(Nw,t,e):Fe.nextTick(bf,t),t.destroyed||(t[Bw]=!0))}gf.exports={construct:Uw,destroyer:Mw,destroy:Ow,undestroy:Cw,errorOrDestroy:ws}});var ui=S((wv,xf)=>{"use strict";var bv=f(d()),{ArrayIsArray:Kw,ObjectSetPrototypeOf:mf}=ee(),{EventEmitter:si}=$r();function ci(t){si.call(this,t)}mf(ci.prototype,si.prototype);mf(ci,si);ci.prototype.pipe=function(t,e){let r=this;function n(l){t.writable&&t.write(l)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",c));let o=!1;function s(){o||(o=!0,t.end())}function c(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function u(l){a(),si.listenerCount(this,"error")===0&&this.emit("error",l)}bs(r,"error",u),bs(t,"error",u);function a(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",a),r.removeListener("close",a),t.removeListener("close",a)}return r.on("end",a),r.on("close",a),t.on("close",a),t.emit("pipe",r),t};function bs(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Kw(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}xf.exports={Stream:ci,prependListener:bs}});var un=S((gv,ai)=>{"use strict";var mv=f(d()),{AbortError:Ef,codes:Fw}=ce(),{isNodeStream:vf,isWebStream:qw,kControllerErrorFunction:jw}=Ke(),$w=rt(),{ERR_INVALID_ARG_TYPE:_f}=Fw,Vw=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new _f(e,"AbortSignal",t)};ai.exports.addAbortSignal=function(e,r){if(Vw(e,"signal"),!vf(r)&&!qw(r))throw new _f("stream",["ReadableStream","WritableStream","Stream"],r);return ai.exports.addAbortSignalNoValidate(e,r)};ai.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=vf(e)?()=>{e.destroy(new Ef(void 0,{cause:t.reason}))}:()=>{e[jw](new Ef(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),$w(e,()=>t.removeEventListener("abort",r))),e}});var Tf=S((Ev,Af)=>{"use strict";var vv=f(d()),{StringPrototypeSlice:Sf,SymbolIterator:Ww,TypedArrayPrototypeSet:fi,Uint8Array:Hw}=ee(),{Buffer:gs}=fe(),{inspect:Gw}=De();Af.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return gs.alloc(0);let r=gs.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)fi(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Ww](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let o=n.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Sf(o,0,e),this.head=n,n.data=Sf(o,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=gs.allocUnsafe(e),n=e,i=this.head,o=0;do{let s=i.data;if(e>s.length)fi(r,s,n-e),e-=s.length;else{e===s.length?(fi(r,s,n-e),++o,i.next?this.head=i.next:this.head=this.tail=null):(fi(r,new Hw(s.buffer,s.byteOffset,e),n-e),this.head=i,i.data=s.slice(e));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Gw(this,{...r,depth:0,customInspect:!1})}}});var li=S((_v,If)=>{"use strict";var Sv=f(d()),{MathFloor:Jw,NumberIsInteger:zw}=ee(),{ERR_INVALID_ARG_VALUE:Yw}=ce().codes;function Xw(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Bf(t){return t?16:16*1024}function Zw(t,e,r,n){let i=Xw(e,n,r);if(i!=null){if(!zw(i)||i<0){let o=n?`options.${r}`:"options.highWaterMark";throw new Yw(o,i)}return Jw(i)}return Bf(t.objectMode)}If.exports={getHighWaterMark:Zw,getDefaultHighWaterMark:Bf}});var Of=S((ms,kf)=>{var Av=f(d());var di=fe(),qe=di.Buffer;function Rf(t,e){for(var r in t)e[r]=t[r]}qe.from&&qe.alloc&&qe.allocUnsafe&&qe.allocUnsafeSlow?kf.exports=di:(Rf(di,ms),ms.Buffer=Wt);function Wt(t,e,r){return qe(t,e,r)}Wt.prototype=Object.create(qe.prototype);Rf(qe,Wt);Wt.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return qe(t,e,r)};Wt.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=qe(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Wt.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return qe(t)};Wt.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return di.SlowBuffer(t)}});var Uf=S(Cf=>{"use strict";var Bv=f(d()),Es=Of().Buffer,Lf=Es.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Qw(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function eb(t){var e=Qw(t);if(typeof e!="string"&&(Es.isEncoding===Lf||!Lf(t)))throw new Error("Unknown encoding: "+t);return e||t}Cf.StringDecoder=an;function an(t){this.encoding=eb(t);var e;switch(this.encoding){case"utf16le":this.text=sb,this.end=cb,e=4;break;case"utf8":this.fillLast=nb,e=4;break;case"base64":this.text=ub,this.end=ab,e=3;break;default:this.write=fb,this.end=lb;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Es.allocUnsafe(e)}an.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};an.prototype.end=ob;an.prototype.text=ib;an.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function xs(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function tb(t,e,r){var n=e.length-1;if(n<r)return 0;var i=xs(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=xs(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=xs(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function rb(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function nb(t){var e=this.lastTotal-this.lastNeed,r=rb(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function ib(t,e){var r=tb(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function ob(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function sb(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function cb(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function ub(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function ab(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function fb(t){return t.toString(this.encoding)}function lb(t){return t&&t.length?this.write(t):""}});var vs=S((Iv,Mf)=>{"use strict";var Rv=f(d()),Df=bt(),{PromisePrototypeThen:db,SymbolAsyncIterator:Pf,SymbolIterator:Nf}=ee(),{Buffer:hb}=fe(),{ERR_INVALID_ARG_TYPE:yb,ERR_STREAM_NULL_VALUES:pb}=ce().codes;function wb(t,e,r){let n;if(typeof e=="string"||e instanceof hb)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[Pf])i=!0,n=e[Pf]();else if(e&&e[Nf])i=!1,n=e[Nf]();else throw new yb("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,u())},o._destroy=function(a,l){db(c(a),()=>Df.nextTick(l,a),h=>Df.nextTick(l,h||a))};async function c(a){let l=a!=null,h=typeof n.throw=="function";if(l&&h){let{value:w,done:p}=await n.throw(a);if(await w,p)return}if(typeof n.return=="function"){let{value:w}=await n.return();await w}}async function u(){for(;;){try{let{value:a,done:l}=i?await n.next():n.next();if(l)o.push(null);else{let h=a&&typeof a.then=="function"?await a:a;if(h===null)throw s=!1,new pb;if(o.push(h))continue;s=!1}}catch(a){o.destroy(a)}break}}return o}Mf.exports=wb});var fn=S((kv,Xf)=>{var Ov=f(d()),Te=bt(),{ArrayPrototypeIndexOf:bb,NumberIsInteger:gb,NumberIsNaN:mb,NumberParseInt:xb,ObjectDefineProperties:qf,ObjectKeys:Eb,ObjectSetPrototypeOf:jf,Promise:vb,SafeSet:_b,SymbolAsyncIterator:Sb,Symbol:Ab}=ee();Xf.exports=O;O.ReadableState=Is;var{EventEmitter:Tb}=$r(),{Stream:mt,prependListener:Bb}=ui(),{Buffer:_s}=fe(),{addAbortSignal:Ib}=un(),Rb=rt(),U=De().debuglog("stream",t=>{U=t}),kb=Tf(),Br=Vt(),{getHighWaterMark:Ob,getDefaultHighWaterMark:Lb}=li(),{aggregateTwoErrors:Kf,codes:{ERR_INVALID_ARG_TYPE:Cb,ERR_METHOD_NOT_IMPLEMENTED:Ub,ERR_OUT_OF_RANGE:Db,ERR_STREAM_PUSH_AFTER_EOF:Pb,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Nb}}=ce(),{validateObject:Mb}=cn(),Ht=Ab("kPaused"),{StringDecoder:$f}=Uf(),Kb=vs();jf(O.prototype,mt.prototype);jf(O,mt);var Ss=()=>{},{errorOrDestroy:Tr}=Br;function Is(t,e,r){typeof r!="boolean"&&(r=e instanceof je()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?Ob(this,t,"readableHighWaterMark",r):Lb(!1),this.buffer=new kb,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Ht]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new $f(t.encoding),this.encoding=t.encoding)}function O(t){if(!(this instanceof O))return new O(t);let e=this instanceof je();this._readableState=new Is(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Ib(t.signal,this)),mt.call(this,t),Br.construct(this,()=>{this._readableState.needReadable&&hi(this,this._readableState)})}O.prototype.destroy=Br.destroy;O.prototype._undestroy=Br.undestroy;O.prototype._destroy=function(t,e){e(t)};O.prototype[Tb.captureRejectionSymbol]=function(t){this.destroy(t)};O.prototype.push=function(t,e){return Vf(this,t,e,!1)};O.prototype.unshift=function(t,e){return Vf(this,t,e,!0)};function Vf(t,e,r,n){U("readableAddChunk",e);let i=t._readableState,o;if(i.objectMode||(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=_s.from(e,r).toString(i.encoding):(e=_s.from(e,r),r=""))):e instanceof _s?r="":mt._isUint8Array(e)?(e=mt._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new Cb("chunk",["string","Buffer","Uint8Array"],e))),o)Tr(t,o);else if(e===null)i.reading=!1,jb(t,i);else if(i.objectMode||e&&e.length>0)if(n)if(i.endEmitted)Tr(t,new Nb);else{if(i.destroyed||i.errored)return!1;As(t,i,e,!0)}else if(i.ended)Tr(t,new Pb);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?As(t,i,e,!1):hi(t,i)):As(t,i,e,!1)}else n||(i.reading=!1,hi(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function As(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&yi(t)),hi(t,e)}O.prototype.isPaused=function(){let t=this._readableState;return t[Ht]===!0||t.flowing===!1};O.prototype.setEncoding=function(t){let e=new $f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Fb=1073741824;function qb(t){if(t>Fb)throw new Db("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Ff(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:mb(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}O.prototype.read=function(t){U("read",t),t===void 0?t=NaN:gb(t)||(t=xb(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=qb(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return U("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Ts(this):yi(this),null;if(t=Ff(t,e),t===0&&e.ended)return e.length===0&&Ts(this),null;let n=e.needReadable;if(U("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,U("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,U("reading, ended or constructing",n);else if(n){U("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(o){Tr(this,o)}e.sync=!1,e.reading||(t=Ff(r,e))}let i;return t>0?i=zf(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Ts(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function jb(t,e){if(U("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?yi(t):(e.needReadable=!1,e.emittedReadable=!0,Wf(t))}}function yi(t){let e=t._readableState;U("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(U("emitReadable",e.flowing),e.emittedReadable=!0,Te.nextTick(Wf,t))}function Wf(t){let e=t._readableState;U("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Gf(t)}function hi(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Te.nextTick($b,t,e))}function $b(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(U("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}O.prototype._read=function(t){throw new Ub("_read()")};O.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new _b(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),U("pipe count=%d opts=%j",n.pipes.length,e);let o=(!e||e.end!==!1)&&t!==Te.stdout&&t!==Te.stderr?c:x;n.endEmitted?Te.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(E,v){U("onunpipe"),E===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,l())}function c(){U("onend"),t.end()}let u,a=!1;function l(){U("cleanup"),t.removeListener("close",y),t.removeListener("finish",g),u&&t.removeListener("drain",u),t.removeListener("error",p),t.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",x),r.removeListener("data",w),a=!0,u&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&u()}function h(){a||(n.pipes.length===1&&n.pipes[0]===t?(U("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(U("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),u||(u=Vb(r,t),t.on("drain",u))}r.on("data",w);function w(E){U("ondata");let v=t.write(E);U("dest.write",v),v===!1&&h()}function p(E){if(U("onerror",E),x(),t.removeListener("error",p),t.listenerCount("error")===0){let v=t._writableState||t._readableState;v&&!v.errorEmitted?Tr(t,E):t.emit("error",E)}}Bb(t,"error",p);function y(){t.removeListener("finish",g),x()}t.once("close",y);function g(){U("onfinish"),t.removeListener("close",y),x()}t.once("finish",g);function x(){U("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?n.flowing&&h():n.flowing||(U("pipe resume"),r.resume()),t};function Vb(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(U("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(U("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}O.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let o=0;o<i.length;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}let n=bb(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};O.prototype.on=function(t,e){let r=mt.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,U("on readable",n.length,n.reading),n.length?yi(this):n.reading||Te.nextTick(Wb,this)),r};O.prototype.addListener=O.prototype.on;O.prototype.removeListener=function(t,e){let r=mt.prototype.removeListener.call(this,t,e);return t==="readable"&&Te.nextTick(Hf,this),r};O.prototype.off=O.prototype.removeListener;O.prototype.removeAllListeners=function(t){let e=mt.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Te.nextTick(Hf,this),e};function Hf(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Ht]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Wb(t){U("readable nexttick read 0"),t.read(0)}O.prototype.resume=function(){let t=this._readableState;return t.flowing||(U("resume"),t.flowing=!t.readableListening,Hb(this,t)),t[Ht]=!1,this};function Hb(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Te.nextTick(Gb,t,e))}function Gb(t,e){U("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Gf(t),e.flowing&&!e.reading&&t.read(0)}O.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ht]=!0,this};function Gf(t){let e=t._readableState;for(U("flow",e.flowing);e.flowing&&t.read()!==null;);}O.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Tr(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Eb(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};O.prototype[Sb]=function(){return Jf(this)};O.prototype.iterator=function(t){return t!==void 0&&Mb(t,"options"),Jf(this,t)};function Jf(t,e){typeof t.read!="function"&&(t=O.wrap(t,{objectMode:!0}));let r=Jb(t,e);return r.stream=t,r}async function*Jb(t,e){let r=Ss;function n(s){this===t?(r(),r=Ss):r=s}t.on("readable",n);let i,o=Rb(t,{writable:!1},s=>{i=s?Kf(i,s):null,r(),r=Ss});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else{if(i)throw i;if(i===null)return;await new vb(n)}}}catch(s){throw i=Kf(i,s),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Br.destroyer(t,null):(t.off("readable",n),o())}}qf(O.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});qf(Is.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ht]!==!1},set(t){this[Ht]=!!t}}});O._fromList=zf;function zf(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Ts(t){let e=t._readableState;U("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Te.nextTick(zb,e,t))}function zb(t,e){if(U("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Te.nextTick(Yb,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Yb(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}O.from=function(t,e){return Kb(O,t,e)};var Bs;function Yf(){return Bs===void 0&&(Bs={}),Bs}O.fromWeb=function(t,e){return Yf().newStreamReadableFromReadableStream(t,e)};O.toWeb=function(t,e){return Yf().newReadableStreamFromStreamReadable(t,e)};O.wrap=function(t,e){var r,n;return new O({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,o){Br.destroyer(t,i),o(i)}}).wrap(t)}});var Ds=S((Lv,al)=>{var Cv=f(d()),Gt=bt(),{ArrayPrototypeSlice:el,Error:Xb,FunctionPrototypeSymbolHasInstance:tl,ObjectDefineProperty:rl,ObjectDefineProperties:Zb,ObjectSetPrototypeOf:nl,StringPrototypeToLowerCase:Qb,Symbol:eg,SymbolHasInstance:tg}=ee();al.exports=G;G.WritableState=hn;var{EventEmitter:rg}=$r(),ln=ui().Stream,{Buffer:pi}=fe(),gi=Vt(),{addAbortSignal:ng}=un(),{getHighWaterMark:ig,getDefaultHighWaterMark:og}=li(),{ERR_INVALID_ARG_TYPE:sg,ERR_METHOD_NOT_IMPLEMENTED:cg,ERR_MULTIPLE_CALLBACK:il,ERR_STREAM_CANNOT_PIPE:ug,ERR_STREAM_DESTROYED:dn,ERR_STREAM_ALREADY_FINISHED:ag,ERR_STREAM_NULL_VALUES:fg,ERR_STREAM_WRITE_AFTER_END:lg,ERR_UNKNOWN_ENCODING:ol}=ce().codes,{errorOrDestroy:Ir}=gi;nl(G.prototype,ln.prototype);nl(G,ln);function Os(){}var Rr=eg("kOnFinished");function hn(t,e,r){typeof r!="boolean"&&(r=e instanceof je()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?ig(this,t,"writableHighWaterMark",r):og(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=hg.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,bi(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Rr]=[]}function bi(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}hn.prototype.getBuffer=function(){return el(this.buffered,this.bufferedIndex)};rl(hn.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(t){let e=this instanceof je();if(!e&&!tl(G,this))return new G(t);this._writableState=new hn(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&ng(t.signal,this)),ln.call(this,t),gi.construct(this,()=>{let r=this._writableState;r.writing||Cs(this,r),Us(this,r)})}rl(G,tg,{__proto__:null,value:function(t){return tl(this,t)?!0:this!==G?!1:t&&t._writableState instanceof hn}});G.prototype.pipe=function(){Ir(this,new ug)};function sl(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!pi.isEncoding(r))throw new ol(r);typeof n!="function"&&(n=Os)}if(e===null)throw new fg;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=pi.from(e,r),r="buffer");else if(e instanceof pi)r="buffer";else if(ln._isUint8Array(e))e=ln._uint8ArrayToBuffer(e),r="buffer";else throw new sg("chunk",["string","Buffer","Uint8Array"],e);let o;return i.ending?o=new lg:i.destroyed&&(o=new dn("write")),o?(Gt.nextTick(n,o),Ir(t,o,!0),o):(i.pendingcb++,dg(t,i,e,r,n))}G.prototype.write=function(t,e,r){return sl(this,t,e,r)===!0};G.prototype.cork=function(){this._writableState.corked++};G.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Cs(this,t))};G.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Qb(e)),!pi.isEncoding(e))throw new ol(e);return this._writableState.defaultEncoding=e,this};function dg(t,e,r,n,i){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Os&&(e.allNoop=!1)):(e.writelen=o,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function Zf(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new dn("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Qf(t,e,r,n){--e.pendingcb,n(r),Ls(e),Ir(t,r)}function hg(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ir(t,new il);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Gt.nextTick(Qf,t,r,e,i):Qf(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Cs(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Gt.nextTick(yg,r.afterWriteTickInfo)):cl(t,r,1,i))}function yg({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,cl(t,e,r,n)}function cl(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Ls(e),Us(t,e)}function Ls(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:o,callback:s}=t.buffered[i],c=t.objectMode?1:o.length;t.length-=c,s((e=t.errored)!==null&&e!==void 0?e:new dn("write"))}let r=t[Rr].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new dn("end"))}bi(t)}function Cs(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,o=r.length-n;if(!o)return;let s=n;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let c=e.allNoop?Os:a=>{for(let l=s;l<r.length;++l)r[l].callback(a)},u=e.allNoop&&s===0?r:el(r,s);u.allBuffers=e.allBuffers,Zf(t,e,!0,e.length,u,"",c),bi(e)}else{do{let{chunk:c,encoding:u,callback:a}=r[s];r[s++]=null;let l=i?1:c.length;Zf(t,e,!1,l,c,u,a)}while(s<r.length&&!e.writing);s===r.length?bi(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}G.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new cg("_write()")};G.prototype._writev=null;G.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let o=sl(this,t,e);o instanceof Xb&&(i=o)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Us(this,n,!0),n.ended=!0):n.finished?i=new ag("end"):n.destroyed&&(i=new dn("end"))),typeof r=="function"&&(i||n.finished?Gt.nextTick(r,i):n[Rr].push(r)),this};function wi(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function pg(t,e){let r=!1;function n(i){if(r){Ir(t,i??il());return}if(r=!0,e.pendingcb--,i){let o=e[Rr].splice(0);for(let s=0;s<o.length;s++)o[s](i);Ir(t,i,e.sync)}else wi(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Gt.nextTick(ks,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function wg(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,pg(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Us(t,e,r){wi(e)&&(wg(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Gt.nextTick((n,i)=>{wi(i)?ks(n,i):i.pendingcb--},t,e)):wi(e)&&(e.pendingcb++,ks(t,e))))}function ks(t,e){e.pendingcb--,e.finished=!0;let r=e[Rr].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Zb(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var bg=gi.destroy;G.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Rr].length)&&Gt.nextTick(Ls,r),bg.call(this,t,e),this};G.prototype._undestroy=gi.undestroy;G.prototype._destroy=function(t,e){e(t)};G.prototype[rg.captureRejectionSymbol]=function(t){this.destroy(t)};var Rs;function ul(){return Rs===void 0&&(Rs={}),Rs}G.fromWeb=function(t,e){return ul().newStreamWritableFromWritableStream(t,e)};G.toWeb=function(t){return ul().newWritableStreamFromStreamWritable(t)}});var El=S((Uv,xl)=>{var Dv=f(d()),Ps=bt(),gg=fe(),{isReadable:mg,isWritable:xg,isIterable:fl,isNodeStream:Eg,isReadableNodeStream:ll,isWritableNodeStream:dl,isDuplexNodeStream:vg}=Ke(),hl=rt(),{AbortError:ml,codes:{ERR_INVALID_ARG_TYPE:_g,ERR_INVALID_RETURN_VALUE:yl}}=ce(),{destroyer:kr}=Vt(),Sg=je(),Ag=fn(),{createDeferredPromise:pl}=De(),wl=vs(),bl=globalThis.Blob||gg.Blob,Tg=typeof bl<"u"?function(e){return e instanceof bl}:function(e){return!1},Bg=globalThis.AbortController||Zn().AbortController,{FunctionPrototypeCall:gl}=ee(),Jt=class extends Sg{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};xl.exports=function t(e,r){if(vg(e))return e;if(ll(e))return mi({readable:e});if(dl(e))return mi({writable:e});if(Eg(e))return mi({writable:!1,readable:!1});if(typeof e=="function"){let{value:i,write:o,final:s,destroy:c}=Ig(e);if(fl(i))return wl(Jt,i,{objectMode:!0,write:o,final:s,destroy:c});let u=i?.then;if(typeof u=="function"){let a,l=gl(u,i,h=>{if(h!=null)throw new yl("nully","body",h)},h=>{kr(a,h)});return a=new Jt({objectMode:!0,readable:!1,write:o,final(h){s(async()=>{try{await l,Ps.nextTick(h,null)}catch(w){Ps.nextTick(h,w)}})},destroy:c})}throw new yl("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Tg(e))return t(e.arrayBuffer());if(fl(e))return wl(Jt,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?ll(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?dl(e?.writable)?e?.writable:t(e.writable):void 0;return mi({readable:i,writable:o})}let n=e?.then;if(typeof n=="function"){let i;return gl(n,e,o=>{o!=null&&i.push(o),i.push(null)},o=>{kr(i,o)}),i=new Jt({objectMode:!0,writable:!1,read(){}})}throw new _g(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Ig(t){let{promise:e,resolve:r}=pl(),n=new Bg,i=n.signal;return{value:t(async function*(){for(;;){let s=e;e=null;let{chunk:c,done:u,cb:a}=await s;if(Ps.nextTick(a),u)return;if(i.aborted)throw new ml(void 0,{cause:i.reason});({promise:e,resolve:r}=pl()),yield c}}(),{signal:i}),write(s,c,u){let a=r;r=null,a({chunk:s,done:!1,cb:u})},final(s){let c=r;r=null,c({done:!0,cb:s})},destroy(s,c){n.abort(),c(s)}}}function mi(t){let e=t.readable&&typeof t.readable.read!="function"?Ag.wrap(t.readable):t.readable,r=t.writable,n=!!mg(e),i=!!xg(r),o,s,c,u,a;function l(h){let w=u;u=null,w?w(h):h&&a.destroy(h)}return a=new Jt({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(hl(r,h=>{i=!1,h&&kr(e,h),l(h)}),a._write=function(h,w,p){r.write(h,w)?p():o=p},a._final=function(h){r.end(),s=h},r.on("drain",function(){if(o){let h=o;o=null,h()}}),r.on("finish",function(){if(s){let h=s;s=null,h()}})),n&&(hl(e,h=>{n=!1,h&&kr(e,h),l(h)}),e.on("readable",function(){if(c){let h=c;c=null,h()}}),e.on("end",function(){a.push(null)}),a._read=function(){for(;;){let h=e.read();if(h===null){c=a._read;return}if(!a.push(h))return}}),a._destroy=function(h,w){!h&&u!==null&&(h=new ml),c=null,o=null,s=null,u===null?w(h):(u=w,kr(r,h),kr(e,h))},a}});var je=S((Pv,Sl)=>{"use strict";var Nv=f(d()),{ObjectDefineProperties:Rg,ObjectGetOwnPropertyDescriptor:nt,ObjectKeys:kg,ObjectSetPrototypeOf:vl}=ee();Sl.exports=Be;var Ks=fn(),Ee=Ds();vl(Be.prototype,Ks.prototype);vl(Be,Ks);{let t=kg(Ee.prototype);for(let e=0;e<t.length;e++){let r=t[e];Be.prototype[r]||(Be.prototype[r]=Ee.prototype[r])}}function Be(t){if(!(this instanceof Be))return new Be(t);Ks.call(this,t),Ee.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Rg(Be.prototype,{writable:{__proto__:null,...nt(Ee.prototype,"writable")},writableHighWaterMark:{__proto__:null,...nt(Ee.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...nt(Ee.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...nt(Ee.prototype,"writableBuffer")},writableLength:{__proto__:null,...nt(Ee.prototype,"writableLength")},writableFinished:{__proto__:null,...nt(Ee.prototype,"writableFinished")},writableCorked:{__proto__:null,...nt(Ee.prototype,"writableCorked")},writableEnded:{__proto__:null,...nt(Ee.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...nt(Ee.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Ns;function _l(){return Ns===void 0&&(Ns={}),Ns}Be.fromWeb=function(t,e){return _l().newStreamDuplexFromReadableWritablePair(t,e)};Be.toWeb=function(t){return _l().newReadableWritablePairFromDuplex(t)};var Ms;Be.from=function(t){return Ms||(Ms=El()),Ms(t,"body")}});var js=S((Mv,Tl)=>{"use strict";var Kv=f(d()),{ObjectSetPrototypeOf:Al,Symbol:Og}=ee();Tl.exports=it;var{ERR_METHOD_NOT_IMPLEMENTED:Lg}=ce().codes,qs=je(),{getHighWaterMark:Cg}=li();Al(it.prototype,qs.prototype);Al(it,qs);var yn=Og("kCallback");function it(t){if(!(this instanceof it))return new it(t);let e=t?Cg(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),qs.call(this,t),this._readableState.sync=!1,this[yn]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ug)}function Fs(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Ug(){this._final!==Fs&&Fs.call(this)}it.prototype._final=Fs;it.prototype._transform=function(t,e,r){throw new Lg("_transform()")};it.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(t,e,(s,c)=>{if(s){r(s);return}c!=null&&this.push(c),i.ended||o===n.length||n.length<n.highWaterMark?r():this[yn]=r})};it.prototype._read=function(){if(this[yn]){let t=this[yn];this[yn]=null,t()}}});var Vs=S((Fv,Il)=>{"use strict";var qv=f(d()),{ObjectSetPrototypeOf:Bl}=ee();Il.exports=Or;var $s=js();Bl(Or.prototype,$s.prototype);Bl(Or,$s);function Or(t){if(!(this instanceof Or))return new Or(t);$s.call(this,t)}Or.prototype._transform=function(t,e,r){r(null,t)}});var _i=S((jv,Cl)=>{var $v=f(d()),pn=bt(),{ArrayIsArray:Dg,Promise:Pg,SymbolAsyncIterator:Ng}=ee(),vi=rt(),{once:Mg}=De(),Kg=Vt(),Rl=je(),{aggregateTwoErrors:Fg,codes:{ERR_INVALID_ARG_TYPE:Zs,ERR_INVALID_RETURN_VALUE:Ws,ERR_MISSING_ARGS:qg,ERR_STREAM_DESTROYED:jg,ERR_STREAM_PREMATURE_CLOSE:$g},AbortError:Vg}=ce(),{validateFunction:Wg,validateAbortSignal:Hg}=cn(),{isIterable:zt,isReadable:Hs,isReadableNodeStream:Ei,isNodeStream:kl,isTransformStream:Lr,isWebStream:Gg,isReadableStream:Gs,isReadableEnded:Jg}=Ke(),zg=globalThis.AbortController||Zn().AbortController,Js,zs;function Ol(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=vi(t,{readable:e,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,Kg.destroyer(t,o||new jg("pipe")))},cleanup:i}}function Yg(t){return Wg(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Ys(t){if(zt(t))return t;if(Ei(t))return Xg(t);throw new Zs("val",["Readable","Iterable","AsyncIterable"],t)}async function*Xg(t){zs||(zs=fn()),yield*zs.prototype[Ng].call(t)}async function xi(t,e,r,{end:n}){let i,o=null,s=a=>{if(a&&(i=a),o){let l=o;o=null,l()}},c=()=>new Pg((a,l)=>{i?l(i):o=()=>{i?l(i):a()}});e.on("drain",s);let u=vi(e,{readable:!1},s);try{e.writableNeedDrain&&await c();for await(let a of t)e.write(a)||await c();n&&e.end(),await c(),r()}catch(a){r(i!==a?Fg(i,a):a)}finally{u(),e.off("drain",s)}}async function Xs(t,e,r,{end:n}){Lr(e)&&(e=e.writable);let i=e.getWriter();try{for await(let o of t)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(s){r(s)}}}function Zg(...t){return Ll(t,Mg(Yg(t)))}function Ll(t,e,r){if(t.length===1&&Dg(t[0])&&(t=t[0]),t.length<2)throw new qg("streams");let n=new zg,i=n.signal,o=r?.signal,s=[];Hg(o,"options.signal");function c(){p(new Vg)}o?.addEventListener("abort",c);let u,a,l=[],h=0;function w(v){p(v,--h===0)}function p(v,m){if(v&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=v),!(!u&&!m)){for(;l.length;)l.shift()(u);o?.removeEventListener("abort",c),n.abort(),m&&(u||s.forEach(T=>T()),pn.nextTick(e,u,a))}}let y;for(let v=0;v<t.length;v++){let m=t[v],T=v<t.length-1,C=v>0,I=T||r?.end!==!1,D=v===t.length-1;if(kl(m)){let B=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&w(k)};var E=B;if(I){let{destroy:k,cleanup:N}=Ol(m,T,C);l.push(k),Hs(m)&&D&&s.push(N)}m.on("error",B),Hs(m)&&D&&s.push(()=>{m.removeListener("error",B)})}if(v===0)if(typeof m=="function"){if(y=m({signal:i}),!zt(y))throw new Ws("Iterable, AsyncIterable or Stream","source",y)}else zt(m)||Ei(m)||Lr(m)?y=m:y=Rl.from(m);else if(typeof m=="function"){if(Lr(y)){var g;y=Ys((g=y)===null||g===void 0?void 0:g.readable)}else y=Ys(y);if(y=m(y,{signal:i}),T){if(!zt(y,!0))throw new Ws("AsyncIterable",`transform[${v-1}]`,y)}else{var x;Js||(Js=Vs());let B=new Js({objectMode:!0}),k=(x=y)===null||x===void 0?void 0:x.then;if(typeof k=="function")h++,k.call(y,P=>{a=P,P!=null&&B.write(P),I&&B.end(),pn.nextTick(w)},P=>{B.destroy(P),pn.nextTick(w,P)});else if(zt(y,!0))h++,xi(y,B,w,{end:I});else if(Gs(y)||Lr(y)){let P=y.readable||y;h++,xi(P,B,w,{end:I})}else throw new Ws("AsyncIterable or Promise","destination",y);y=B;let{destroy:N,cleanup:K}=Ol(y,!1,!0);l.push(N),D&&s.push(K)}}else if(kl(m)){if(Ei(y)){h+=2;let B=Qg(y,m,w,{end:I});Hs(m)&&D&&s.push(B)}else if(Lr(y)||Gs(y)){let B=y.readable||y;h++,xi(B,m,w,{end:I})}else if(zt(y))h++,xi(y,m,w,{end:I});else throw new Zs("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=m}else if(Gg(m)){if(Ei(y))h++,Xs(Ys(y),m,w,{end:I});else if(Gs(y)||zt(y))h++,Xs(y,m,w,{end:I});else if(Lr(y))h++,Xs(y.readable,m,w,{end:I});else throw new Zs("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=m}else y=Rl.from(m)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&pn.nextTick(c),y}function Qg(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new $g)}),t.pipe(e,{end:!1}),n){let s=function(){i=!0,e.end()};var o=s;Jg(t)?pn.nextTick(s):t.once("end",s)}else r();return vi(t,{readable:!0,writable:!1},s=>{let c=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&c&&c.ended&&!c.errored&&!c.errorEmitted?t.once("end",r).once("error",r):r(s)}),vi(e,{readable:!1,writable:!0},r)}Cl.exports={pipelineImpl:Ll,pipeline:Zg}});var ec=S((Vv,Kl)=>{"use strict";var Wv=f(d()),{pipeline:e0}=_i(),Si=je(),{destroyer:t0}=Vt(),{isNodeStream:Ai,isReadable:Ul,isWritable:Dl,isWebStream:Qs,isTransformStream:Yt,isWritableStream:Pl,isReadableStream:Nl}=Ke(),{AbortError:r0,codes:{ERR_INVALID_ARG_VALUE:Ml,ERR_MISSING_ARGS:n0}}=ce(),i0=rt();Kl.exports=function(...e){if(e.length===0)throw new n0("streams");if(e.length===1)return Si.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Si.from(e[0])),typeof e[e.length-1]=="function"){let p=e.length-1;e[p]=Si.from(e[p])}for(let p=0;p<e.length;++p)if(!(!Ai(e[p])&&!Qs(e[p]))){if(p<e.length-1&&!(Ul(e[p])||Nl(e[p])||Yt(e[p])))throw new Ml(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Dl(e[p])||Pl(e[p])||Yt(e[p])))throw new Ml(`streams[${p}]`,r[p],"must be writable")}let n,i,o,s,c;function u(p){let y=s;s=null,y?y(p):p?c.destroy(p):!w&&!h&&c.destroy()}let a=e[0],l=e0(e,u),h=!!(Dl(a)||Pl(a)||Yt(a)),w=!!(Ul(l)||Nl(l)||Yt(l));if(c=new Si({writableObjectMode:!!(a!=null&&a.writableObjectMode),readableObjectMode:!!(l!=null&&l.writableObjectMode),writable:h,readable:w}),h){if(Ai(a))c._write=function(y,g,x){a.write(y,g)?x():n=x},c._final=function(y){a.end(),i=y},a.on("drain",function(){if(n){let y=n;n=null,y()}});else if(Qs(a)){let g=(Yt(a)?a.writable:a).getWriter();c._write=async function(x,E,v){try{await g.ready,g.write(x).catch(()=>{}),v()}catch(m){v(m)}},c._final=async function(x){try{await g.ready,g.close().catch(()=>{}),i=x}catch(E){x(E)}}}let p=Yt(l)?l.readable:l;i0(p,()=>{if(i){let y=i;i=null,y()}})}if(w){if(Ai(l))l.on("readable",function(){if(o){let p=o;o=null,p()}}),l.on("end",function(){c.push(null)}),c._read=function(){for(;;){let p=l.read();if(p===null){o=c._read;return}if(!c.push(p))return}};else if(Qs(l)){let y=(Yt(l)?l.readable:l).getReader();c._read=async function(){for(;;)try{let{value:g,done:x}=await y.read();if(!c.push(g))return;if(x){c.push(null);return}}catch{return}}}}return c._destroy=function(p,y){!p&&s!==null&&(p=new r0),o=null,n=null,i=null,s===null?y(p):(s=y,Ai(l)&&t0(l,p))},c}});var Gl=S((Hv,nc)=>{"use strict";var Gv=f(d()),$l=globalThis.AbortController||Zn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:o0,ERR_INVALID_ARG_TYPE:wn,ERR_MISSING_ARGS:s0,ERR_OUT_OF_RANGE:c0},AbortError:$e}=ce(),{validateAbortSignal:Xt,validateInteger:u0,validateObject:Zt}=cn(),a0=ee().Symbol("kWeak"),{finished:f0}=rt(),l0=ec(),{addAbortSignalNoValidate:d0}=un(),{isWritable:h0,isNodeStream:y0}=Ke(),{ArrayPrototypePush:p0,MathFloor:w0,Number:b0,NumberIsNaN:g0,Promise:Fl,PromiseReject:ql,PromisePrototypeThen:m0,Symbol:Vl}=ee(),Ti=Vl("kEmpty"),jl=Vl("kEof");function x0(t,e){if(e!=null&&Zt(e,"options"),e?.signal!=null&&Xt(e.signal,"options.signal"),y0(t)&&!h0(t))throw new o0("stream",t,"must be writable");let r=l0(this,t);return e!=null&&e.signal&&d0(e.signal,r),r}function Bi(t,e){if(typeof t!="function")throw new wn("fn",["Function","AsyncFunction"],t);e!=null&&Zt(e,"options"),e?.signal!=null&&Xt(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=w0(e.concurrency)),u0(r,"concurrency",1),(async function*(){var i,o;let s=new $l,c=this,u=[],a=s.signal,l={signal:a},h=()=>s.abort();e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted&&h(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",h);let w,p,y=!1;function g(){y=!0}async function x(){try{for await(let m of c){var E;if(y)return;if(a.aborted)throw new $e;try{m=t(m,l)}catch(T){m=ql(T)}m!==Ti&&(typeof((E=m)===null||E===void 0?void 0:E.catch)=="function"&&m.catch(g),u.push(m),w&&(w(),w=null),!y&&u.length&&u.length>=r&&await new Fl(T=>{p=T}))}u.push(jl)}catch(m){let T=ql(m);m0(T,void 0,g),u.push(T)}finally{var v;y=!0,w&&(w(),w=null),e==null||(v=e.signal)===null||v===void 0||v.removeEventListener("abort",h)}}x();try{for(;;){for(;u.length>0;){let E=await u[0];if(E===jl)return;if(a.aborted)throw new $e;E!==Ti&&(yield E),u.shift(),p&&(p(),p=null)}await new Fl(E=>{w=E})}}finally{s.abort(),y=!0,p&&(p(),p=null)}}).call(this)}function E0(t=void 0){return t!=null&&Zt(t,"options"),t?.signal!=null&&Xt(t.signal,"options.signal"),(async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new $e({cause:t.signal.reason});yield[r++,i]}}).call(this)}async function Wl(t,e=void 0){for await(let r of rc.call(this,t,e))return!0;return!1}async function v0(t,e=void 0){if(typeof t!="function")throw new wn("fn",["Function","AsyncFunction"],t);return!await Wl.call(this,async(...r)=>!await t(...r),e)}async function _0(t,e){for await(let r of rc.call(this,t,e))return r}async function S0(t,e){if(typeof t!="function")throw new wn("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Ti}for await(let n of Bi.call(this,r,e));}function rc(t,e){if(typeof t!="function")throw new wn("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Ti}return Bi.call(this,r,e)}var tc=class extends s0{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function A0(t,e,r){var n;if(typeof t!="function")throw new wn("reducer",["Function","AsyncFunction"],t);r!=null&&Zt(r,"options"),r?.signal!=null&&Xt(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let a=new $e(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await f0(this.destroy(a)),a}let o=new $l,s=o.signal;if(r!=null&&r.signal){let a={once:!0,[a0]:this};r.signal.addEventListener("abort",()=>o.abort(),a)}let c=!1;try{for await(let a of this){var u;if(c=!0,r!=null&&(u=r.signal)!==null&&u!==void 0&&u.aborted)throw new $e;i?e=await t(e,a,{signal:s}):(e=a,i=!0)}if(!c&&!i)throw new tc}finally{o.abort()}return e}async function T0(t){t!=null&&Zt(t,"options"),t?.signal!=null&&Xt(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new $e(void 0,{cause:t.signal.reason});p0(e,n)}return e}function B0(t,e){let r=Bi.call(this,t,e);return(async function*(){for await(let i of r)yield*i}).call(this)}function Hl(t){if(t=b0(t),g0(t))return 0;if(t<0)throw new c0("number",">= 0",t);return t}function I0(t,e=void 0){return e!=null&&Zt(e,"options"),e?.signal!=null&&Xt(e.signal,"options.signal"),t=Hl(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new $e;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new $e;t--<=0&&(yield o)}}).call(this)}function R0(t,e=void 0){return e!=null&&Zt(e,"options"),e?.signal!=null&&Xt(e.signal,"options.signal"),t=Hl(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new $e;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new $e;if(t-- >0)yield o;else return}}).call(this)}nc.exports.streamReturningOperators={asIndexedPairs:E0,drop:I0,filter:rc,flatMap:B0,map:Bi,take:R0,compose:x0};nc.exports.promiseReturningOperators={every:v0,forEach:S0,reduce:A0,toArray:T0,some:Wl,find:_0}});var ic=S((Jv,Jl)=>{"use strict";var zv=f(d()),{ArrayPrototypePop:k0,Promise:O0}=ee(),{isIterable:L0,isNodeStream:C0,isWebStream:U0}=Ke(),{pipelineImpl:D0}=_i(),{finished:P0}=rt();oc();function N0(...t){return new O0((e,r)=>{let n,i,o=t[t.length-1];if(o&&typeof o=="object"&&!C0(o)&&!L0(o)&&!U0(o)){let s=k0(t);n=s.signal,i=s.end}D0(t,(s,c)=>{s?r(s):e(c)},{signal:n,end:i})})}Jl.exports={finished:P0,pipeline:N0}});var oc=S((Yv,nd)=>{var Xv=f(d()),{Buffer:M0}=fe(),{ObjectDefineProperty:ot,ObjectKeys:Xl,ReflectApply:Zl}=ee(),{promisify:{custom:Ql}}=De(),{streamReturningOperators:zl,promiseReturningOperators:Yl}=Gl(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:ed}}=ce(),K0=ec(),{pipeline:td}=_i(),{destroyer:F0}=Vt(),rd=rt(),sc=ic(),cc=Ke(),Z=nd.exports=ui().Stream;Z.isDisturbed=cc.isDisturbed;Z.isErrored=cc.isErrored;Z.isReadable=cc.isReadable;Z.Readable=fn();for(let t of Xl(zl)){let r=function(...n){if(new.target)throw ed();return Z.Readable.from(Zl(e,this,n))};uc=r;let e=zl[t];ot(r,"name",{__proto__:null,value:e.name}),ot(r,"length",{__proto__:null,value:e.length}),ot(Z.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var uc;for(let t of Xl(Yl)){let r=function(...i){if(new.target)throw ed();return Zl(e,this,i)};uc=r;let e=Yl[t];ot(r,"name",{__proto__:null,value:e.name}),ot(r,"length",{__proto__:null,value:e.length}),ot(Z.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var uc;Z.Writable=Ds();Z.Duplex=je();Z.Transform=js();Z.PassThrough=Vs();Z.pipeline=td;var{addAbortSignal:q0}=un();Z.addAbortSignal=q0;Z.finished=rd;Z.destroy=F0;Z.compose=K0;ot(Z,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return sc}});ot(td,Ql,{__proto__:null,enumerable:!0,get(){return sc.pipeline}});ot(rd,Ql,{__proto__:null,enumerable:!0,get(){return sc.finished}});Z.Stream=Z;Z._isUint8Array=function(e){return e instanceof Uint8Array};Z._uint8ArrayToBuffer=function(e){return M0.from(e.buffer,e.byteOffset,e.byteLength)}});var ac=S((Zv,Q)=>{"use strict";var Qv=f(d()),te=oc(),j0=ic(),$0=te.Readable.destroy;Q.exports=te.Readable;Q.exports._uint8ArrayToBuffer=te._uint8ArrayToBuffer;Q.exports._isUint8Array=te._isUint8Array;Q.exports.isDisturbed=te.isDisturbed;Q.exports.isErrored=te.isErrored;Q.exports.isReadable=te.isReadable;Q.exports.Readable=te.Readable;Q.exports.Writable=te.Writable;Q.exports.Duplex=te.Duplex;Q.exports.Transform=te.Transform;Q.exports.PassThrough=te.PassThrough;Q.exports.addAbortSignal=te.addAbortSignal;Q.exports.finished=te.finished;Q.exports.destroy=te.destroy;Q.exports.destroy=$0;Q.exports.pipeline=te.pipeline;Q.exports.compose=te.compose;Object.defineProperty(te,"promises",{configurable:!0,enumerable:!0,get(){return j0}});Q.exports.Stream=te.Stream;Q.exports.default=Q.exports});var PA=f(d(),1);var s_=f(d(),1);var yx=f(d(),1);var Ym=f(d(),1);var Fm=f(d(),1);var Lm=f(d(),1);function dh(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var c=t.length,u=t.charAt(0),a=Math.log(c)/Math.log(256),l=Math.log(256)/Math.log(c);function h(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,x=0,E=0,v=y.length;E!==v&&y[E]===0;)E++,g++;for(var m=(v-E)*l+1>>>0,T=new Uint8Array(m);E!==v;){for(var C=y[E],I=0,D=m-1;(C!==0||I<x)&&D!==-1;D--,I++)C+=256*T[D]>>>0,T[D]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");x=I,E++}for(var B=m-x;B!==m&&T[B]===0;)B++;for(var k=u.repeat(g);B<m;++B)k+=t.charAt(T[B]);return k}function w(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var g=0;if(y[g]!==" "){for(var x=0,E=0;y[g]===u;)x++,g++;for(var v=(y.length-g)*a+1>>>0,m=new Uint8Array(v);y[g];){var T=r[y.charCodeAt(g)];if(T===255)return;for(var C=0,I=v-1;(T!==0||C<E)&&I!==-1;I--,C++)T+=c*m[I]>>>0,m[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=C,g++}if(y[g]!==" "){for(var D=v-E;D!==v&&m[D]===0;)D++;for(var B=new Uint8Array(x+(v-D)),k=x;D!==v;)B[k++]=m[D++];return B}}}function p(y){var g=w(y);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:w,decode:p}}var hh=dh,yh=hh,Wc=yh;var Um=f(d(),1),Cm=new Uint8Array(0);var Hc=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},fr=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Dm=f(d(),1);var Ji=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},zi=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Gc(this,e)}},Yi=class{constructor(e){this.decoders=e}or(e){return Gc(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Gc=(t,e)=>new Yi({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Xi=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Ji(e,r,n),this.decoder=new zi(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Jc=({name:t,prefix:e,encode:r,decode:n})=>new Xi(t,e,r,n),Zi=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=Wc(r,e);return Jc({prefix:t,name:e,encode:n,decode:o=>fr(i(o))})},wh=(t,e,r,n)=>{let i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),c=0,u=0,a=0;for(let l=0;l<o;++l){let h=i[t[l]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|h,c+=r,c>=8&&(c-=8,s[a++]=255&u>>c)}if(c>=r||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s},bh=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",s=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],s+=8;s>r;)s-=r,o+=e[i&c>>s];if(s&&(o+=e[i&c<<r-s]),n)for(;o.length*r&7;)o+="=";return o},se=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Jc({prefix:e,name:t,encode(i){return bh(i,n,r)},decode(i){return wh(i,n,r,t)}});var Dr=se({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jm=se({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$m=se({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Vm=se({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Wm=se({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hm=se({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Gm=se({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jm=se({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qi=se({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ex=f(d(),1);var le=Zi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Zm=Zi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var sx=f(d(),1);var rx=se({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nx=se({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Oe=se({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ix=se({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ux=f(d(),1);function zc(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function Yc(t){return typeof t!="object"||t===null?!1:typeof t[Symbol.asyncIterator]=="function"}function vn(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,i]=r;return i}var Pr=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(l){try{a(n.next(l))}catch(h){s(h)}}function u(l){try{a(n.throw(l))}catch(h){s(h)}}function a(l){l.done?o(l.value):i(l.value).then(c,u)}a((n=n.apply(t,e||[])).next())})},Xc=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(a){o({value:a,done:c})},s)}},_n=new TextEncoder,St=new TextDecoder,Y=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static asyncIterable(e){if(!Yc(e))throw new TypeError("Input must be of type AsyncIterable.");return new t(e,"AsyncIterable")}static base32Z(e){return new t(e,"Base32Z")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return le.baseDecode(this.data).buffer;case"Base64Url":return Oe.baseDecode(this.data).buffer;case"BufferSource":{if(vn(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return zc(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return Pr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return Qi.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return le.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return le.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return Oe.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return Oe.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=_n.encode(e);return Oe.baseEncode(r)}case"String":{let e=_n.encode(this.data);return Oe.baseEncode(e)}case"Uint8Array":return Oe.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var e,r,n,i;return Pr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let u=[];try{for(var o=!0,s=Xc(this.data),c;c=yield s.next(),e=c.done,!e;o=!0){i=c.value,o=!1;let l=i;u.push(l)}}catch(l){r={error:l}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return new Blob(u)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){let e=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let n=0;n<this.data.length;n++)r+=e[this.data[n]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=Oe.baseDecode(this.data),r=St.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=St.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return Pr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toStringAsync();return JSON.parse(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return St.decode(this.data);case"Base64Url":{let e=Oe.baseDecode(this.data);return St.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return St.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var e,r,n,i;return Pr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let u="";try{for(var o=!0,s=Xc(this.data),c;c=yield s.next(),e=c.done,!e;o=!0){i=c.value,o=!1;let a=i;typeof a=="string"?u+=a:u+=St.decode(a,{stream:!0})}}catch(a){r={error:a}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return u+=St.decode(void 0,{stream:!1}),u}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return Qi.baseDecode(this.data);case"Base58Btc":return le.baseDecode(this.data);case"Base64Url":return Oe.baseDecode(this.data);case"BufferSource":{let e=vn(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let n=parseInt(this.data.substring(r,r+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=n}return e}case"Object":{let e=JSON.stringify(this.data);return _n.encode(e)}case"String":return _n.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return Pr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toArrayBufferAsync();return new Uint8Array(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}};var Nx=f(d(),1);var Cx=f(d(),1);var Bx=f(d(),1);var He={};Od(He,{decode:()=>lr,encodeTo:()=>At,encodingLength:()=>Tt});var gx=f(d(),1);var wx=f(d(),1),gh=eu,Zc=128,mh=127,xh=~mh,Eh=Math.pow(2,31);function eu(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Eh;)e[r++]=t&255|Zc,t/=128;for(;t&xh;)e[r++]=t&255|Zc,t>>>=7;return e[r]=t|0,eu.bytes=r-n+1,e}var vh=eo,_h=128,Qc=127;function eo(t,n){var r=0,n=n||0,i=0,o=n,s,c=t.length;do{if(o>=c)throw eo.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=i<28?(s&Qc)<<i:(s&Qc)*Math.pow(2,i),i+=7}while(s>=_h);return eo.bytes=o-n,r}var Sh=Math.pow(2,7),Ah=Math.pow(2,14),Th=Math.pow(2,21),Bh=Math.pow(2,28),Ih=Math.pow(2,35),Rh=Math.pow(2,42),kh=Math.pow(2,49),Oh=Math.pow(2,56),Lh=Math.pow(2,63),Ch=function(t){return t<Sh?1:t<Ah?2:t<Th?3:t<Bh?4:t<Ih?5:t<Rh?6:t<kh?7:t<Oh?8:t<Lh?9:10},Uh={encode:gh,decode:vh,encodingLength:Ch},Dh=Uh,Nr=Dh;var lr=(t,e=0)=>[Nr.decode(t,e),Nr.decode.bytes],At=(t,e,r=0)=>(Nr.encode(t,e,r),e),Tt=t=>Nr.encodingLength(t);var xx=f(d(),1);var to=(t,e)=>{let r=e.byteLength,n=Tt(t),i=n+Tt(r),o=new Uint8Array(i+r);return At(t,o,0),At(r,o,n),o.set(e,i),new dr(t,r,e,o)},tu=t=>{let e=fr(t),[r,n]=lr(e),[i,o]=lr(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new dr(r,i,s,e)},ru=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Hc(t.bytes,r.bytes)}},dr=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var Ex=f(d(),1);var nu=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return Nh(r,no(t),e||le.encoder);default:return Mh(r,no(t),e||Dr.encoder)}};var iu=new WeakMap,no=t=>{let e=iu.get(t);if(e==null){let r=new Map;return iu.set(t,r),r}return e},io=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Mr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Kh)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=to(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&ru(e.multihash,n.multihash)}toString(e){return nu(this,e)}toJSON(){return{"/":nu(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:s}=r;return new t(n,i,o,s||ou(n,i,o.bytes))}else if(r[Fh]===!0){let{version:n,multihash:i,code:o}=r,s=tu(i);return t.create(n,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Mr)throw new Error(`Version 0 CID must use dag-pb (code: ${Mr}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=ou(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Mr,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=fr(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),s=new dr(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,w]=lr(e.subarray(r));return r+=w,h},i=n(),o=Mr;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,c=n(),u=n(),a=r+u,l=a-s;return{version:i,codec:o,multihashCode:c,digestSize:u,multihashSize:l,size:a}}static parse(e,r){let[n,i]=Ph(e,r),o=t.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return no(o).set(n,e),o}},Ph=(t,e)=>{switch(t[0]){case"Q":{let r=e||le;return[le.prefix,r.decode(`${le.prefix}${t}`)]}case le.prefix:{let r=e||le;return[le.prefix,r.decode(t)]}case Dr.prefix:{let r=e||Dr;return[Dr.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Nh=(t,e,r)=>{let{prefix:n}=r;if(n!==le.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},Mh=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},Mr=112,Kh=18,ou=(t,e,r)=>{let n=Tt(t),i=n+Tt(e),o=new Uint8Array(i+r.byteLength);return At(t,o,0),At(e,o,n),o.set(r,i),o},Fh=Symbol.for("@ipld/js-cid/CID");var Rx=f(d(),1);var kx=f(d(),1);var he=class t{static addPrefix(e){var r;let{code:n,data:i,name:o}=e;if(!(o?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=t.codeToName.has(n)?n:t.nameToCode.get(o),n===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);let s=He.encodingLength(n),c=new Uint8Array(s+i.byteLength);return c.set(i,s),He.encodeTo(n,c),c}static getCodeFromData(e){let{prefixedData:r}=e,[n,i]=He.decode(r);return n}static getCodeFromName(e){let{name:r}=e,n=t.nameToCode.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static getNameFromCode(e){let{code:r}=e,n=t.codeToName.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static registerCodec(e){t.codeToName.set(e.code,e.name),t.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[n,i]=He.decode(r),o=t.codeToName.get(n);if(o===void 0)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:r.slice(i),name:o}}};he.codeToName=new Map;he.nameToCode=new Map;he.registerCodec({code:237,name:"ed25519-pub"});he.registerCodec({code:4864,name:"ed25519-priv"});he.registerCodec({code:236,name:"x25519-pub"});he.registerCodec({code:4866,name:"x25519-priv"});he.registerCodec({code:231,name:"secp256k1-pub"});he.registerCodec({code:4865,name:"secp256k1-priv"});var Kx=f(d(),1);function oo(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&oo(t[e])})}var JE=f(d(),1),Gy=f(ga(),1);var XE=f(d(),1);var i_=f(d(),1),V0=f(ac(),1);var W0=f(ac(),1);var H1=f(d(),1);var BS=f(d(),1);var D_=f(d(),1);var R_=f(d(),1);var T_=f(d(),1);var v_=f(d(),1);var p_=f(d(),1);function H0(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function G0(t,...e){if(!H0(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function fc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function id(t,e){G0(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var g_=f(d(),1);function J0(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var Ri=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ie=(t,e)=>t<<32-e|t>>>e,z0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!z0)throw new Error("Non little-endian hardware is not supported");function Y0(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function lc(t){if(typeof t=="string"&&(t=Y0(t)),!J0(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var Ii=class{clone(){return this._cloneInto()}},w_={}.toString;function od(t){let e=n=>t().update(lc(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function X0(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),u=n?4:0,a=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+a,c,n)}var ki=class extends Ii{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ri(this.buffer)}update(e){fc(this);let{view:r,buffer:n,blockLen:i}=this;e=lc(e);let o=e.length;for(let s=0;s<o;){let c=Math.min(i-this.pos,o-s);if(c===i){let u=Ri(e);for(;i<=o-s;s+=i)this.process(u,s);continue}n.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fc(this),id(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let h=s;h<i;h++)r[h]=0;X0(n,i-8,BigInt(this.length*8),o),this.process(n,0);let c=Ri(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let a=u/4,l=this.get();if(a>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<a;h++)c.setUint32(4*h,l[h],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var Z0=(t,e,r)=>t&e^~t&r,Q0=(t,e,r)=>t&e^t&r^e&r,em=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Et=new Uint32Array(64),dc=class extends ki{constructor(){super(64,32,8,!1),this.A=xt[0]|0,this.B=xt[1]|0,this.C=xt[2]|0,this.D=xt[3]|0,this.E=xt[4]|0,this.F=xt[5]|0,this.G=xt[6]|0,this.H=xt[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:c,H:u}=this;return[e,r,n,i,o,s,c,u]}set(e,r,n,i,o,s,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=c|0,this.H=u|0}process(e,r){for(let h=0;h<16;h++,r+=4)Et[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){let w=Et[h-15],p=Et[h-2],y=Ie(w,7)^Ie(w,18)^w>>>3,g=Ie(p,17)^Ie(p,19)^p>>>10;Et[h]=g+Et[h-7]+y+Et[h-16]|0}let{A:n,B:i,C:o,D:s,E:c,F:u,G:a,H:l}=this;for(let h=0;h<64;h++){let w=Ie(c,6)^Ie(c,11)^Ie(c,25),p=l+w+Z0(c,u,a)+em[h]+Et[h]|0,g=(Ie(n,2)^Ie(n,13)^Ie(n,22))+Q0(n,i,o)|0;l=a,a=u,u=c,c=s+p|0,s=o,o=i,i=n,n=p+g|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,c=c+this.E|0,u=u+this.F|0,a=a+this.G|0,l=l+this.H|0,this.set(n,i,o,s,c,u,a,l)}roundClean(){Et.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var sd=od(()=>new dc);var tm=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(l){try{a(n.next(l))}catch(h){s(h)}}function u(l){try{a(n.throw(l))}catch(h){s(h)}}function a(l){l.done?o(l.value):i(l.value).then(c,u)}a((n=n.apply(t,e||[])).next())})},bn=class{static digest({data:e}){return tm(this,void 0,void 0,function*(){return sd(e)})}};var O_=f(d(),1);var iS=f(d(),1);var H_=f(d(),1);var j_=f(d(),1);var N_=f(d(),1);function cd(t){let e=n=>{if(n!==null&&typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n).sort(),o={};for(let s of i)o[s]=e(n[s]);return o}return n},r=e(t);return JSON.stringify(r)}var rm=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(l){try{a(n.next(l))}catch(h){s(h)}}function u(l){try{a(n.throw(l))}catch(h){s(h)}}function a(l){l.done?o(l.value):i(l.value).then(c,u)}a((n=n.apply(t,e||[])).next())})};function ve({jwk:t}){return rm(this,void 0,void 0,function*(){let e=t.kty,r;if(e==="EC")r={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if(e==="oct")r={k:t.k,kty:t.kty};else if(e==="OKP")r={crv:t.crv,kty:t.kty,x:t.x};else if(e==="RSA")r={e:t.e,kty:t.kty,n:t.n};else throw new Error(`Unsupported key type: ${e}`);oo(r);let n=cd(r),i=Y.string(n).toUint8Array(),o=yield bn.digest({data:i});return Y.uint8Array(o).toBase64Url()})}var Y_=f(d(),1);var yS=f(d(),1);var uS=f(d(),1);var IS=f(d(),1);var YS=f(d(),1);var WS=f(d(),1);var FS=f(d(),1);var kS=f(d(),1),im=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var LS=f(d(),1);var st=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function dd(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var hd=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),om=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!om)throw new Error("Non little-endian hardware is not supported");function Li(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ci(t){if(typeof t=="string")t=Li(t);else if(dd(t))t=t.slice();else throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var sm=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function yd(t,e){if(e!==void 0&&(typeof e!="object"||!sm(e)))throw new Error("options must be object or undefined");return Object.assign(t,e)}function Qt(t,e){if(!dd(t))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}function pd(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}var hc=(t,e)=>(Object.assign(e,t),e);function yc(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),c=Number(r&o),u=n?4:0,a=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+a,c,n)}var US=f(d(),1);function gn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`wrong positive integer: ${t}`)}function pc(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function cm(t){return t!=null&&typeof t=="object"&&(t instanceof Uint8Array||t.constructor.name==="Uint8Array")}function Cr(t,...e){if(!cm(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function wc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wd(t,e){Cr(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var s1=f(d(),1);var t1=f(d(),1);var c1=f(d(),1);var u1=f(d(),1);var a1=f(d(),1);var d1=f(d(),1);var y1=f(d(),1);var g1=f(d(),1);var M1=f(d(),1);var L1=f(d(),1);var v1=f(d(),1);var ie=(t,e)=>t[e++]&255|(t[e++]&255)<<8,mc=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Ci(e),Qt(e,32);let r=ie(e,0),n=ie(e,2),i=ie(e,4),o=ie(e,6),s=ie(e,8),c=ie(e,10),u=ie(e,12),a=ie(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|a<<8)&8191,this.r[9]=a>>>5&127;for(let l=0;l<8;l++)this.pad[l]=ie(e,16+2*l)}process(e,r,n=!1){let i=n?0:2048,{h:o,r:s}=this,c=s[0],u=s[1],a=s[2],l=s[3],h=s[4],w=s[5],p=s[6],y=s[7],g=s[8],x=s[9],E=ie(e,r+0),v=ie(e,r+2),m=ie(e,r+4),T=ie(e,r+6),C=ie(e,r+8),I=ie(e,r+10),D=ie(e,r+12),B=ie(e,r+14),k=o[0]+(E&8191),N=o[1]+((E>>>13|v<<3)&8191),K=o[2]+((v>>>10|m<<6)&8191),P=o[3]+((m>>>7|T<<9)&8191),F=o[4]+((T>>>4|C<<12)&8191),q=o[5]+(C>>>1&8191),j=o[6]+((C>>>14|I<<2)&8191),$=o[7]+((I>>>11|D<<5)&8191),V=o[8]+((D>>>8|B<<8)&8191),W=o[9]+(B>>>5|i),A=0,J=A+k*c+N*(5*x)+K*(5*g)+P*(5*y)+F*(5*p);A=J>>>13,J&=8191,J+=q*(5*w)+j*(5*h)+$*(5*l)+V*(5*a)+W*(5*u),A+=J>>>13,J&=8191;let z=A+k*u+N*c+K*(5*x)+P*(5*g)+F*(5*y);A=z>>>13,z&=8191,z+=q*(5*p)+j*(5*w)+$*(5*h)+V*(5*l)+W*(5*a),A+=z>>>13,z&=8191;let H=A+k*a+N*u+K*c+P*(5*x)+F*(5*g);A=H>>>13,H&=8191,H+=q*(5*y)+j*(5*p)+$*(5*w)+V*(5*h)+W*(5*l),A+=H>>>13,H&=8191;let Ve=A+k*l+N*a+K*u+P*c+F*(5*x);A=Ve>>>13,Ve&=8191,Ve+=q*(5*g)+j*(5*y)+$*(5*p)+V*(5*w)+W*(5*h),A+=Ve>>>13,Ve&=8191;let er=A+k*h+N*l+K*a+P*u+F*c;A=er>>>13,er&=8191,er+=q*(5*x)+j*(5*g)+$*(5*y)+V*(5*p)+W*(5*w),A+=er>>>13,er&=8191;let tr=A+k*w+N*h+K*l+P*a+F*u;A=tr>>>13,tr&=8191,tr+=q*c+j*(5*x)+$*(5*g)+V*(5*y)+W*(5*p),A+=tr>>>13,tr&=8191;let rr=A+k*p+N*w+K*h+P*l+F*a;A=rr>>>13,rr&=8191,rr+=q*u+j*c+$*(5*x)+V*(5*g)+W*(5*y),A+=rr>>>13,rr&=8191;let nr=A+k*y+N*p+K*w+P*h+F*l;A=nr>>>13,nr&=8191,nr+=q*a+j*u+$*c+V*(5*x)+W*(5*g),A+=nr>>>13,nr&=8191;let ir=A+k*g+N*y+K*p+P*w+F*h;A=ir>>>13,ir&=8191,ir+=q*l+j*a+$*u+V*c+W*(5*x),A+=ir>>>13,ir&=8191;let or=A+k*x+N*g+K*y+P*p+F*w;A=or>>>13,or&=8191,or+=q*h+j*l+$*a+V*u+W*c,A+=or>>>13,or&=8191,A=(A<<2)+A|0,A=A+J|0,J=A&8191,A=A>>>13,z+=A,o[0]=J,o[1]=z,o[2]=H,o[3]=Ve,o[4]=er,o[5]=tr,o[6]=rr,o[7]=nr,o[8]=ir,o[9]=or}finalize(){let{h:e,pad:r}=this,n=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let c=1;c<10;c++)n[c]=e[c]+i,i=n[c]>>>13,n[c]&=8191;n[9]-=8192;let o=(i^1)-1;for(let c=0;c<10;c++)n[c]&=o;o=~o;for(let c=0;c<10;c++)e[c]=e[c]&o|n[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let c=1;c<8;c++)s=(e[c]+r[c]|0)+(s>>>16)|0,e[c]=s&65535}update(e){wc(this);let{buffer:r,blockLen:n}=this;e=Ci(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){for(;n<=i-o;o+=n)this.process(e,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){wc(this),wd(e,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=n[s]>>>0,e[o++]=n[s]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}};function um(t){let e=(n,i)=>t(i).update(Ci(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var bd=um(t=>new mc(t));var T1=f(d(),1);var am=Li("expand 16-byte k"),fm=Li("expand 32-byte k"),lm=st(am),dm=st(fm);function _(t,e){return t<<e|t>>>32-e}function xc(t){return t.byteOffset%4===0}var Ui=64,hm=16,md=2**32-1,gd=new Uint32Array;function ym(t,e,r,n,i,o,s,c){let u=i.length,a=new Uint8Array(Ui),l=st(a),h=xc(i)&&xc(o),w=h?st(i):gd,p=h?st(o):gd;for(let y=0;y<u;s++){if(t(e,r,n,l,s,c),s>=md)throw new Error("arx: counter overflow");let g=Math.min(Ui,u-y);if(h&&g===Ui){let x=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let E=0,v;E<hm;E++)v=x+E,p[v]=w[v]^l[E];y+=Ui;continue}for(let x=0,E;x<g;x++)E=y+x,o[E]=i[E]^a[x];y+=g}}function Ec(t,e){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:s}=yd({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return gn(i),gn(s),pc(o),pc(r),(c,u,a,l,h=0)=>{Cr(c),Cr(u),Cr(a);let w=a.length;if(l||(l=new Uint8Array(w)),Cr(l),gn(h),h<0||h>=md)throw new Error("arx: counter overflow");if(l.length<w)throw new Error(`arx: output (${l.length}) is shorter than data (${w})`);let p=[],y=c.length,g,x;if(y===32)g=c.slice(),p.push(g),x=dm;else if(y===16&&r)g=new Uint8Array(32),g.set(c),g.set(c,16),x=lm,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);xc(u)||(u=u.slice(),p.push(u));let E=st(g);if(n){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(x,E,st(u.subarray(0,16)),E),u=u.subarray(16)}let v=16-i;if(v!==u.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){let T=new Uint8Array(12);T.set(u,o?0:12-u.length),u=T,p.push(u)}let m=st(u);for(ym(t,x,E,m,a,l,h,s);p.length>0;)p.pop().fill(0);return l}}function vd(t,e,r,n,i,o=20){let s=t[0],c=t[1],u=t[2],a=t[3],l=e[0],h=e[1],w=e[2],p=e[3],y=e[4],g=e[5],x=e[6],E=e[7],v=i,m=r[0],T=r[1],C=r[2],I=s,D=c,B=u,k=a,N=l,K=h,P=w,F=p,q=y,j=g,$=x,V=E,W=v,A=m,J=T,z=C;for(let Ve=0;Ve<o;Ve+=2)I=I+N|0,W=_(W^I,16),q=q+W|0,N=_(N^q,12),I=I+N|0,W=_(W^I,8),q=q+W|0,N=_(N^q,7),D=D+K|0,A=_(A^D,16),j=j+A|0,K=_(K^j,12),D=D+K|0,A=_(A^D,8),j=j+A|0,K=_(K^j,7),B=B+P|0,J=_(J^B,16),$=$+J|0,P=_(P^$,12),B=B+P|0,J=_(J^B,8),$=$+J|0,P=_(P^$,7),k=k+F|0,z=_(z^k,16),V=V+z|0,F=_(F^V,12),k=k+F|0,z=_(z^k,8),V=V+z|0,F=_(F^V,7),I=I+K|0,z=_(z^I,16),$=$+z|0,K=_(K^$,12),I=I+K|0,z=_(z^I,8),$=$+z|0,K=_(K^$,7),D=D+P|0,W=_(W^D,16),V=V+W|0,P=_(P^V,12),D=D+P|0,W=_(W^D,8),V=V+W|0,P=_(P^V,7),B=B+F|0,A=_(A^B,16),q=q+A|0,F=_(F^q,12),B=B+F|0,A=_(A^B,8),q=q+A|0,F=_(F^q,7),k=k+N|0,J=_(J^k,16),j=j+J|0,N=_(N^j,12),k=k+N|0,J=_(J^k,8),j=j+J|0,N=_(N^j,7);let H=0;n[H++]=s+I|0,n[H++]=c+D|0,n[H++]=u+B|0,n[H++]=a+k|0,n[H++]=l+N|0,n[H++]=h+K|0,n[H++]=w+P|0,n[H++]=p+F|0,n[H++]=y+q|0,n[H++]=g+j|0,n[H++]=x+$|0,n[H++]=E+V|0,n[H++]=v+W|0,n[H++]=m+A|0,n[H++]=T+J|0,n[H++]=C+z|0}function pm(t,e,r,n){let i=t[0],o=t[1],s=t[2],c=t[3],u=e[0],a=e[1],l=e[2],h=e[3],w=e[4],p=e[5],y=e[6],g=e[7],x=r[0],E=r[1],v=r[2],m=r[3];for(let C=0;C<20;C+=2)i=i+u|0,x=_(x^i,16),w=w+x|0,u=_(u^w,12),i=i+u|0,x=_(x^i,8),w=w+x|0,u=_(u^w,7),o=o+a|0,E=_(E^o,16),p=p+E|0,a=_(a^p,12),o=o+a|0,E=_(E^o,8),p=p+E|0,a=_(a^p,7),s=s+l|0,v=_(v^s,16),y=y+v|0,l=_(l^y,12),s=s+l|0,v=_(v^s,8),y=y+v|0,l=_(l^y,7),c=c+h|0,m=_(m^c,16),g=g+m|0,h=_(h^g,12),c=c+h|0,m=_(m^c,8),g=g+m|0,h=_(h^g,7),i=i+a|0,m=_(m^i,16),y=y+m|0,a=_(a^y,12),i=i+a|0,m=_(m^i,8),y=y+m|0,a=_(a^y,7),o=o+l|0,x=_(x^o,16),g=g+x|0,l=_(l^g,12),o=o+l|0,x=_(x^o,8),g=g+x|0,l=_(l^g,7),s=s+h|0,E=_(E^s,16),w=w+E|0,h=_(h^w,12),s=s+h|0,E=_(E^s,8),w=w+E|0,h=_(h^w,7),c=c+u|0,v=_(v^c,16),p=p+v|0,u=_(u^p,12),c=c+u|0,v=_(v^c,8),p=p+v|0,u=_(u^p,7);let T=0;n[T++]=i,n[T++]=o,n[T++]=s,n[T++]=c,n[T++]=x,n[T++]=E,n[T++]=v,n[T++]=m}var wm=Ec(vd,{counterRight:!1,counterLength:4,allowShortKeys:!1}),_d=Ec(vd,{counterRight:!1,counterLength:8,extendNonceFn:pm,allowShortKeys:!1});var bm=new Uint8Array(16),xd=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(bm.subarray(r))},gm=new Uint8Array(32);function Ed(t,e,r,n,i){let o=t(e,r,gm),s=bd.create(o);i&&xd(s,i),xd(s,n);let c=new Uint8Array(16),u=hd(c);yc(u,0,BigInt(i?i.length:0),!0),yc(u,8,BigInt(n.length),!0),s.update(c);let a=s.digest();return o.fill(0),a}var Sd=t=>(e,r,n)=>(Qt(e,32),Qt(r),{encrypt:(o,s)=>{let c=o.length,u=c+16;s?Qt(s,u):s=new Uint8Array(u),t(e,r,o,s,1);let a=Ed(t,e,r,s.subarray(0,-16),n);return s.set(a,c),s},decrypt:(o,s)=>{let c=o.length,u=c-16;if(c<16)throw new Error("encrypted data must be at least 16 bytes");s?Qt(s,u):s=new Uint8Array(u);let a=o.subarray(0,-16),l=o.subarray(-16),h=Ed(t,e,r,a,n);if(!pd(l,h))throw new Error("invalid tag");return t(e,r,a,s,1),s}}),k1=hc({blockSize:64,nonceLength:12,tagLength:16},Sd(wm)),mm=hc({blockSize:64,nonceLength:24,tagLength:16},Sd(_d));var V1=f(d(),1);var bA=f(d(),1),Di=class t extends Error{constructor(r,n){super(n);this.code=r;this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t)}};var mA=f(d(),1),Pi=(o=>(o.authentication="authentication",o.assertionMethod="assertionMethod",o.keyAgreement="keyAgreement",o.capabilityDelegation="capabilityDelegation",o.capabilityInvocation="capabilityInvocation",o))(Pi||{});function vc(t){if(typeof t=="string"&&t.length!==0)return t.split("#").pop()}function IA({didDocument:t,id:e,type:r}){return t?.service?.filter(n=>!(e&&n.id!==e||r&&n.type!==r))??[]}async function RA({didDocument:t,publicKeyJwk:e,publicKeyMultibase:r}){let n=Ad({didDocument:t});for(let i of n)if(e&&i.publicKeyJwk){if(await ve({jwk:e})===await ve({jwk:i.publicKeyJwk}))return i}else if(r&&i.publicKeyMultibase&&r===i.publicKeyMultibase)return i;return null}function Ad({didDocument:t}){if(!t)throw new TypeError("Required parameter missing: 'didDocument'");let e=[];return e.push(...t.verificationMethod?.filter(_c)??[]),Object.keys(Pi).forEach(r=>{e.push(...t[r]?.filter(_c)??[])}),e}function kA({didDocument:t}){let r=Ad({didDocument:t}).map(n=>n.type);return[...new Set(r)]}function OA({didDocument:t,methodId:e}){let r=[];return Object.keys(Pi).forEach(n=>{if(Array.isArray(t[n])){let i=t[n],o=vc(e);i.some(c=>{let u=vc(c)===o,a=_c(c)&&vc(c.id)===o;return u||a})&&r.push(n)}}),r}function xm(t){return!t||typeof t!="object"||t===null?!1:"id"in t&&"type"in t&&"serviceEndpoint"in t}function LA(t){if(!xm(t)||t.type!=="DecentralizedWebNode"||!("enc"in t&&"sig"in t))return!1;let e=r=>typeof r=="string"||Array.isArray(r)&&r.every(n=>typeof n=="string");return e(t.enc)&&e(t.sig)}function _c(t){return!(!t||typeof t!="object"||t===null||!("id"in t&&"type"in t&&"controller"in t)||typeof t.id!="string"||typeof t.type!="string"||typeof t.controller!="string")}function CA({keyBytes:t,multicodecCode:e,multicodecName:r}){let n=he.addPrefix({code:e,data:t,name:r}),i=Y.uint8Array(n).toBase58Btc();return Y.base58Btc(i).toMultibase()}function UA({multibaseKeyId:t}){try{let e=Y.multibase(t).toBase58Btc(),r=Y.base58Btc(e).toUint8Array(),{code:n,data:i,name:o}=he.removePrefix({prefixedData:r});return{keyBytes:i,multicodecCode:n,multicodecName:o}}catch{throw new Di("invalidDid",`Invalid multibase identifier: ${t}`)}}export{vc as extractDidFragment,IA as getServices,RA as getVerificationMethodByKey,kA as getVerificationMethodTypes,Ad as getVerificationMethods,OA as getVerificationRelationshipsById,xm as isDidService,_c as isDidVerificationMethod,LA as isDwnDidService,CA as keyBytesToMultibaseId,UA as multibaseIdToKeyBytes};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=utils.js.map
